{"version":3,"file":"RequestData.js","sources":["../../../Source/WorkersES6/RequestData.js"],"sourcesContent":["/**\r\n * Cesium - https://github.com/AnalyticalGraphicsInc/cesium\r\n *\r\n * Copyright 2011-2017 Cesium Contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n *\r\n * Columbus View (Pat. Pend.)\r\n *\r\n * Portions licensed separately.\r\n * See https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md for full licensing details.\r\n */\r\nimport createTaskProcessorWorker from './createTaskProcessorWorker.js';\r\nimport Transforms from '../Core/Transforms.js';\r\nimport Resource from '../Core/Resource.js';\r\n\r\nfunction request(parameters, transferableObjects) {\r\n\r\n    var url = parameters.url;\r\n    var methodName = parameters.methodName;\r\n    var headers = parameters.headers;\r\n    var resource = new Resource({url:url});\r\n    resource.request.throttle = false;\r\n    resource.request.throttleByServer = true;\r\n    resource.request.type = 1;\r\n    resource.headers = headers;\r\n\r\n    var jsonPromise= resource[methodName].call(resource);\r\n    // var jsonPromise= resource.fetchArrayBuffer();\r\n\r\n    if(!jsonPromise){\r\n        return false;\r\n    }\r\n    return jsonPromise.then(function(result){\r\n        transferableObjects.push(result);\r\n        return {\r\n            result : result\r\n        };\r\n    });\r\n}\r\n\r\nvar result = createTaskProcessorWorker(request);\r\nexport default result;\r\n"],"names":["Resource"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AAIA;IACA,SAAS,OAAO,CAAC,UAAU,EAAE,mBAAmB,EAAE;AAClD;IACA,IAAI,IAAI,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;IAC7B,IAAI,IAAI,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;IAC3C,IAAI,IAAI,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;IACrC,IAAI,IAAI,QAAQ,GAAG,IAAIA,iBAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC3C,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,KAAK,CAAC;IACtC,IAAI,QAAQ,CAAC,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC;IAC7C,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,CAAC;IAC9B,IAAI,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;AAC/B;IACA,IAAI,IAAI,WAAW,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACzD;AACA;IACA,IAAI,GAAG,CAAC,WAAW,CAAC;IACpB,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,OAAO,WAAW,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC;IAC5C,QAAQ,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACzC,QAAQ,OAAO;IACf,YAAY,MAAM,GAAG,MAAM;IAC3B,SAAS,CAAC;IACV,KAAK,CAAC,CAAC;IACP,CAAC;AACD;AACG,QAAC,MAAM,GAAG,yBAAyB,CAAC,OAAO;;;;;;;;"}
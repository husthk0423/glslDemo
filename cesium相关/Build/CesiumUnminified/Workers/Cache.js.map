{"version":3,"file":"Cache.js","sources":["../../../Source/WorkersES6/Cache.js"],"sourcesContent":["/**\r\n * Created by kongjian on 2018/6/12.\r\n * 缓存工具类\r\n */\r\n\r\nimport LinkedQueue from './LinkedQueue.js';\r\nclass Cache{\r\n    constructor(limit){\r\n        this.init(limit);\r\n    }\r\n\r\n    init(limit){\r\n        this.limit = limit || 10;\r\n        this.map = {};\r\n        this.keys = new LinkedQueue();\r\n    };\r\n\r\n    set(key,value){\r\n        let map = this.map;\r\n        let keys = this.keys;\r\n        let deleteItem = null;\r\n        if (!Object.prototype.hasOwnProperty.call(map,key)) {\r\n            if (keys.length === this.limit) {\r\n                let name = keys.shift();//先进先出，删除队列第一个元素\r\n                deleteItem = map[name];\r\n                delete map[name];\r\n            }\r\n            keys.push(key);\r\n        }\r\n        map[key] = value;//无论存在与否都对map中的key赋值\r\n        return deleteItem;\r\n    }\r\n    get(key){\r\n        return this.map[key];\r\n    }\r\n}\r\nexport default Cache;\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;IACA;IACA;IACA;IAGA,MAAM,KAAK;IACX,IAAI,WAAW,CAAC,KAAK,CAAC;IACtB,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzB,KAAK;AACL;IACA,IAAI,IAAI,CAAC,KAAK,CAAC;IACf,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;IACjC,QAAQ,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;IACtB,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI,WAAW,EAAE,CAAC;IACtC,KAAK;AACL;IACA,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC;IAClB,QAAQ,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IAC3B,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IAC7B,QAAQ,IAAI,UAAU,GAAG,IAAI,CAAC;IAC9B,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;IAC5D,YAAY,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,EAAE;IAC5C,gBAAgB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;IACxC,gBAAgB,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;IACvC,gBAAgB,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC;IACjC,aAAa;IACb,YAAY,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,SAAS;IACT,QAAQ,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IACzB,QAAQ,OAAO,UAAU,CAAC;IAC1B,KAAK;IACL,IAAI,GAAG,CAAC,GAAG,CAAC;IACZ,QAAQ,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC7B,KAAK;IACL;;;;;;;;"}
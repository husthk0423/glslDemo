define(["exports","./when-c2e8ef35","./Check-c4f3a3fc","./Math-d30358ed","./Cartesian2-f9492f23","./BoundingSphere-dcb1d5fc","./Rectangle-3285eeb3","./GeometryAttribute-a5c051b9"],(function(t,n,a,r,e,o,s,i){"use strict";var g=Math.cos,c=Math.sin,h=Math.sqrt,u={computePosition:function(t,a,r,e,o,s,i){var u=a.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,S=g(d),w=c(d),M=u.z*w,f=C.longitude+e*t.granYSin+o*t.granXCos,X=S*g(f),Y=S*c(f),m=u.x*X,p=u.y*Y,v=h(m*X+p*Y+M*w);if(s.x=m/v,s.y=p/v,s.z=M/v,r){var G=t.stNwCorner;n.defined(G)?(d=G.latitude-t.stGranYCos*e+o*t.stGranXSin,f=G.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(f-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(f-l.west)*t.lonScalar,i.y=(d-l.south)*t.latScalar)}}},C=new i.Matrix2,l=new e.Cartesian3,d=new e.Cartographic,S=new e.Cartesian3,w=new o.GeographicProjection;function M(t,n,a,r,o,s,g){var c=Math.cos(n),h=r*c,u=a*c,d=Math.sin(n),M=r*d,f=a*d;l=w.project(t,l),l=e.Cartesian3.subtract(l,S,l);var X=i.Matrix2.fromRotation(n,C);l=i.Matrix2.multiplyByVector(X,l,l),l=e.Cartesian3.add(l,S,l),s-=1,g-=1;var Y=(t=w.unproject(l,t)).latitude,m=Y+s*f,p=Y-h*g,v=Y-h*g+s*f,G=Math.max(Y,m,p,v),R=Math.min(Y,m,p,v),x=t.longitude,y=x+s*u,b=x+g*M,O=x+g*M+s*u;return{north:G,south:R,east:Math.max(x,y,b,O),west:Math.min(x,y,b,O),granYCos:h,granYSin:M,granXCos:u,granXSin:f,nwCorner:t}}u.computeOptions=function(t,n,a,e,o,i,g){var c,h,u,C,l,f=t.east,X=t.west,Y=t.north,m=t.south,p=!1,v=!1;Y===r.CesiumMath.PI_OVER_TWO&&(p=!0),m===-r.CesiumMath.PI_OVER_TWO&&(v=!0);var G=Y-m;u=(l=X>f?r.CesiumMath.TWO_PI-X+f:f-X)/((c=Math.ceil(l/n)+1)-1),C=G/((h=Math.ceil(G/n)+1)-1);var R=s.Rectangle.northwest(t,i),x=s.Rectangle.center(t,d);0===a&&0===e||(x.longitude<R.longitude&&(x.longitude+=r.CesiumMath.TWO_PI),S=w.project(x,S));var y=C,b=u,O=s.Rectangle.clone(t,o),P={granYCos:y,granYSin:0,granXCos:b,granXSin:0,nwCorner:R,boundingRectangle:O,width:c,height:h,northCap:p,southCap:v};if(0!==a){var W=M(R,a,u,C,0,c,h);Y=W.north,m=W.south,f=W.east,X=W.west,P.granYCos=W.granYCos,P.granYSin=W.granYSin,P.granXCos=W.granXCos,P.granXSin=W.granXSin,O.north=Y,O.south=m,O.east=f,O.west=X}if(0!==e){a-=e;var _=s.Rectangle.northwest(O,g),j=M(_,a,u,C,0,c,h);P.stGranYCos=j.granYCos,P.stGranXCos=j.granXCos,P.stGranYSin=j.granYSin,P.stGranXSin=j.granXSin,P.stNwCorner=_,P.stWest=j.west,P.stSouth=j.south}return P},t.RectangleGeometryLibrary=u}));

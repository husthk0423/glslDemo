define(["exports","./when-c2e8ef35","./Check-c4f3a3fc","./Math-d30358ed","./Cartesian2-f9492f23","./BoundingSphere-dcb1d5fc","./Transforms-8b7e0d39","./ComponentDatatype-5d3f6452","./GeometryAttribute-a5c051b9","./GeometryAttributes-57608efc","./Plane-dbdf17bf","./VertexFormat-ad523db1"],(function(t,e,a,i,r,n,o,s,f,u,l,h){"use strict";function p(t){this.planes=e.defaultValue(t,[])}var d=[new r.Cartesian3,new r.Cartesian3,new r.Cartesian3];r.Cartesian3.clone(r.Cartesian3.UNIT_X,d[0]),r.Cartesian3.clone(r.Cartesian3.UNIT_Y,d[1]),r.Cartesian3.clone(r.Cartesian3.UNIT_Z,d[2]);var c=new r.Cartesian3,m=new r.Cartesian3,C=new l.Plane(new r.Cartesian3(1,0,0),0);function _(t){t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=e.defaultValue(t.near,1),this._near=this.near,this.far=e.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new p,this._orthographicMatrix=new o.Matrix4}function y(t){t.top===t._top&&t.bottom===t._bottom&&t.left===t._left&&t.right===t._right&&t.near===t._near&&t.far===t._far||(t._left=t.left,t._right=t.right,t._top=t.top,t._bottom=t.bottom,t._near=t.near,t._far=t.far,t._orthographicMatrix=o.Matrix4.computeOrthographicOffCenter(t.left,t.right,t.bottom,t.top,t.near,t.far,t._orthographicMatrix))}p.fromBoundingSphere=function(t,a){e.defined(a)||(a=new p);var i=d.length,n=a.planes;n.length=2*i;for(var s=t.center,f=t.radius,u=0,l=0;l<i;++l){var h=d[l],C=n[u],_=n[u+1];e.defined(C)||(C=n[u]=new o.Cartesian4),e.defined(_)||(_=n[u+1]=new o.Cartesian4),r.Cartesian3.multiplyByScalar(h,-f,c),r.Cartesian3.add(s,c,c),C.x=h.x,C.y=h.y,C.z=h.z,C.w=-r.Cartesian3.dot(h,c),r.Cartesian3.multiplyByScalar(h,f,c),r.Cartesian3.add(s,c,c),_.x=-h.x,_.y=-h.y,_.z=-h.z,_.w=-r.Cartesian3.dot(r.Cartesian3.negate(h,m),c),u+=2}return a},p.prototype.computeVisibility=function(t){for(var e=this.planes,a=!1,i=0,r=e.length;i<r;++i){var o=t.intersectPlane(l.Plane.fromCartesian4(e[i],C));if(o===n.Intersect.OUTSIDE)return n.Intersect.OUTSIDE;o===n.Intersect.INTERSECTING&&(a=!0)}return a?n.Intersect.INTERSECTING:n.Intersect.INSIDE},p.prototype.computeVisibilityWithPlaneMask=function(t,e){if(e===p.MASK_OUTSIDE||e===p.MASK_INSIDE)return e;for(var a=p.MASK_INSIDE,i=this.planes,r=0,o=i.length;r<o;++r){var s=r<31?1<<r:0;if(!(r<31&&0==(e&s))){var f=t.intersectPlane(l.Plane.fromCartesian4(i[r],C));if(f===n.Intersect.OUTSIDE)return p.MASK_OUTSIDE;f===n.Intersect.INTERSECTING&&(a|=s)}}return a},p.MASK_OUTSIDE=4294967295,p.MASK_INSIDE=0,p.MASK_INDETERMINATE=2147483647,Object.defineProperties(_.prototype,{projectionMatrix:{get:function(){return y(this),this._orthographicMatrix}}});var v=new r.Cartesian3,g=new r.Cartesian3,w=new r.Cartesian3,x=new r.Cartesian3;function b(t){t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new _,this.width=t.width,this._width=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=e.defaultValue(t.near,1),this._near=this.near,this.far=e.defaultValue(t.far,5e8),this._far=this.far}function M(t){var e=t._offCenterFrustum;if(t.width!==t._width||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far){t._aspectRatio=t.aspectRatio,t._width=t.width,t._near=t.near,t._far=t.far;var a=1/t.aspectRatio;e.right=.5*t.width,e.left=-e.right,e.top=a*e.right,e.bottom=-e.top,e.near=t.near,e.far=t.far}}function F(t){t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=e.defaultValue(t.near,1),this._near=this.near,this.far=e.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new p,this._perspectiveMatrix=new o.Matrix4,this._infinitePerspective=new o.Matrix4}function V(t){var e=t.top,a=t.bottom,i=t.right,r=t.left,n=t.near,s=t.far;e===t._top&&a===t._bottom&&r===t._left&&i===t._right&&n===t._near&&s===t._far||(t._left=r,t._right=i,t._top=e,t._bottom=a,t._near=n,t._far=s,t._perspectiveMatrix=o.Matrix4.computePerspectiveOffCenter(r,i,a,e,n,s,t._perspectiveMatrix),t._infinitePerspective=o.Matrix4.computeInfinitePerspectiveOffCenter(r,i,a,e,n,t._infinitePerspective))}_.prototype.computeCullingVolume=function(t,a,i){var n=this._cullingVolume.planes,s=this.top,f=this.bottom,u=this.right,l=this.left,h=this.near,p=this.far,d=r.Cartesian3.cross(a,i,v);r.Cartesian3.normalize(d,d);var c=g;r.Cartesian3.multiplyByScalar(a,h,c),r.Cartesian3.add(t,c,c);var m=w;r.Cartesian3.multiplyByScalar(d,l,m),r.Cartesian3.add(c,m,m);var C=n[0];return e.defined(C)||(C=n[0]=new o.Cartesian4),C.x=d.x,C.y=d.y,C.z=d.z,C.w=-r.Cartesian3.dot(d,m),r.Cartesian3.multiplyByScalar(d,u,m),r.Cartesian3.add(c,m,m),C=n[1],e.defined(C)||(C=n[1]=new o.Cartesian4),C.x=-d.x,C.y=-d.y,C.z=-d.z,C.w=-r.Cartesian3.dot(r.Cartesian3.negate(d,x),m),r.Cartesian3.multiplyByScalar(i,f,m),r.Cartesian3.add(c,m,m),C=n[2],e.defined(C)||(C=n[2]=new o.Cartesian4),C.x=i.x,C.y=i.y,C.z=i.z,C.w=-r.Cartesian3.dot(i,m),r.Cartesian3.multiplyByScalar(i,s,m),r.Cartesian3.add(c,m,m),C=n[3],e.defined(C)||(C=n[3]=new o.Cartesian4),C.x=-i.x,C.y=-i.y,C.z=-i.z,C.w=-r.Cartesian3.dot(r.Cartesian3.negate(i,x),m),C=n[4],e.defined(C)||(C=n[4]=new o.Cartesian4),C.x=a.x,C.y=a.y,C.z=a.z,C.w=-r.Cartesian3.dot(a,c),r.Cartesian3.multiplyByScalar(a,p,m),r.Cartesian3.add(t,m,m),C=n[5],e.defined(C)||(C=n[5]=new o.Cartesian4),C.x=-a.x,C.y=-a.y,C.z=-a.z,C.w=-r.Cartesian3.dot(r.Cartesian3.negate(a,x),m),this._cullingVolume},_.prototype.getPixelDimensions=function(t,e,a,i,r){y(this);var n=i*(this.right-this.left)/t,o=i*(this.top-this.bottom)/e;return r.x=n,r.y=o,r},_.prototype.clone=function(t){return e.defined(t)||(t=new _),t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},_.prototype.equals=function(t){return e.defined(t)&&t instanceof _&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},_.prototype.equalsEpsilon=function(t,a,r){return t===this||e.defined(t)&&t instanceof _&&i.CesiumMath.equalsEpsilon(this.right,t.right,a,r)&&i.CesiumMath.equalsEpsilon(this.left,t.left,a,r)&&i.CesiumMath.equalsEpsilon(this.top,t.top,a,r)&&i.CesiumMath.equalsEpsilon(this.bottom,t.bottom,a,r)&&i.CesiumMath.equalsEpsilon(this.near,t.near,a,r)&&i.CesiumMath.equalsEpsilon(this.far,t.far,a,r)},b.packedLength=4,b.pack=function(t,a,i){return i=e.defaultValue(i,0),a[i++]=t.width,a[i++]=t.aspectRatio,a[i++]=t.near,a[i]=t.far,a},b.unpack=function(t,a,i){return a=e.defaultValue(a,0),e.defined(i)||(i=new b),i.width=t[a++],i.aspectRatio=t[a++],i.near=t[a++],i.far=t[a],i},Object.defineProperties(b.prototype,{projectionMatrix:{get:function(){return M(this),this._offCenterFrustum.projectionMatrix}}}),b.prototype.computeCullingVolume=function(t,e,a){return M(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},b.prototype.getPixelDimensions=function(t,e,a,i,r){return M(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,r)},b.prototype.clone=function(t){return e.defined(t)||(t=new b),t.aspectRatio=this.aspectRatio,t.width=this.width,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._width=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},b.prototype.equals=function(t){return!!(e.defined(t)&&t instanceof b)&&(M(this),M(t),this.width===t.width&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},b.prototype.equalsEpsilon=function(t,a,r){return!!(e.defined(t)&&t instanceof b)&&(M(this),M(t),i.CesiumMath.equalsEpsilon(this.width,t.width,a,r)&&i.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,a,r)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,a,r))},Object.defineProperties(F.prototype,{projectionMatrix:{get:function(){return V(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return V(this),this._infinitePerspective}}});var E=new r.Cartesian3,O=new r.Cartesian3,P=new r.Cartesian3,z=new r.Cartesian3;function R(t){t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new F,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=e.defaultValue(t.near,1),this._near=this.near,this.far=e.defaultValue(t.far,5e8),this._far=this.far,this.xOffset=e.defaultValue(t.xOffset,0),this._xOffset=this.xOffset,this.yOffset=e.defaultValue(t.yOffset,0),this._yOffset=this.yOffset}function S(t){var e=t._offCenterFrustum;t.fov===t._fov&&t.aspectRatio===t._aspectRatio&&t.near===t._near&&t.far===t._far&&t.xOffset===t._xOffset&&t.yOffset===t._yOffset||(t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset,e.top=t.near*Math.tan(.5*t._fovy),e.bottom=-e.top,e.right=t.aspectRatio*e.top,e.left=-e.right,e.near=t.near,e.far=t.far,e.right+=t.xOffset,e.left+=t.xOffset,e.top+=t.yOffset,e.bottom+=t.yOffset)}F.prototype.computeCullingVolume=function(t,a,i){var n=this._cullingVolume.planes,s=this.top,f=this.bottom,u=this.right,l=this.left,h=this.near,p=this.far,d=r.Cartesian3.cross(a,i,E),c=O;r.Cartesian3.multiplyByScalar(a,h,c),r.Cartesian3.add(t,c,c);var m=P;r.Cartesian3.multiplyByScalar(a,p,m),r.Cartesian3.add(t,m,m);var C=z;r.Cartesian3.multiplyByScalar(d,l,C),r.Cartesian3.add(c,C,C),r.Cartesian3.subtract(C,t,C),r.Cartesian3.normalize(C,C),r.Cartesian3.cross(C,i,C),r.Cartesian3.normalize(C,C);var _=n[0];return e.defined(_)||(_=n[0]=new o.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-r.Cartesian3.dot(C,t),r.Cartesian3.multiplyByScalar(d,u,C),r.Cartesian3.add(c,C,C),r.Cartesian3.subtract(C,t,C),r.Cartesian3.cross(i,C,C),r.Cartesian3.normalize(C,C),_=n[1],e.defined(_)||(_=n[1]=new o.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-r.Cartesian3.dot(C,t),r.Cartesian3.multiplyByScalar(i,f,C),r.Cartesian3.add(c,C,C),r.Cartesian3.subtract(C,t,C),r.Cartesian3.cross(d,C,C),r.Cartesian3.normalize(C,C),_=n[2],e.defined(_)||(_=n[2]=new o.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-r.Cartesian3.dot(C,t),r.Cartesian3.multiplyByScalar(i,s,C),r.Cartesian3.add(c,C,C),r.Cartesian3.subtract(C,t,C),r.Cartesian3.cross(C,d,C),r.Cartesian3.normalize(C,C),_=n[3],e.defined(_)||(_=n[3]=new o.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-r.Cartesian3.dot(C,t),_=n[4],e.defined(_)||(_=n[4]=new o.Cartesian4),_.x=a.x,_.y=a.y,_.z=a.z,_.w=-r.Cartesian3.dot(a,c),r.Cartesian3.negate(a,C),_=n[5],e.defined(_)||(_=n[5]=new o.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-r.Cartesian3.dot(C,m),this._cullingVolume},F.prototype.getPixelDimensions=function(t,e,a,i,r){V(this);var n=1/this.near,o=this.top*n,s=2*i*a*o/e,f=2*i*a*(o=this.right*n)/t;return r.x=f,r.y=s,r},F.prototype.clone=function(t){return e.defined(t)||(t=new F),t.right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},F.prototype.equals=function(t){return e.defined(t)&&t instanceof F&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},F.prototype.equalsEpsilon=function(t,a,r){return t===this||e.defined(t)&&t instanceof F&&i.CesiumMath.equalsEpsilon(this.right,t.right,a,r)&&i.CesiumMath.equalsEpsilon(this.left,t.left,a,r)&&i.CesiumMath.equalsEpsilon(this.top,t.top,a,r)&&i.CesiumMath.equalsEpsilon(this.bottom,t.bottom,a,r)&&i.CesiumMath.equalsEpsilon(this.near,t.near,a,r)&&i.CesiumMath.equalsEpsilon(this.far,t.far,a,r)},R.packedLength=6,R.pack=function(t,a,i){return i=e.defaultValue(i,0),a[i++]=t.fov,a[i++]=t.aspectRatio,a[i++]=t.near,a[i++]=t.far,a[i++]=t.xOffset,a[i]=t.yOffset,a},R.unpack=function(t,a,i){return a=e.defaultValue(a,0),e.defined(i)||(i=new R),i.fov=t[a++],i.aspectRatio=t[a++],i.near=t[a++],i.far=t[a++],i.xOffset=t[a++],i.yOffset=t[a],i},Object.defineProperties(R.prototype,{projectionMatrix:{get:function(){return S(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return S(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return S(this),this._fovy}},sseDenominator:{get:function(){return S(this),this._sseDenominator}}}),R.prototype.computeCullingVolume=function(t,e,a){return S(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},R.prototype.getPixelDimensions=function(t,e,a,i,r){return S(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,r)},R.prototype.clone=function(t){return e.defined(t)||(t=new R),t.aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},R.prototype.equals=function(t){return!!(e.defined(t)&&t instanceof R)&&(S(this),S(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},R.prototype.equalsEpsilon=function(t,a,r){return!!(e.defined(t)&&t instanceof R)&&(S(this),S(t),i.CesiumMath.equalsEpsilon(this.fov,t.fov,a,r)&&i.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,a,r)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,a,r))};function T(t){var a,i,n=t.frustum,s=t.orientation,f=t.origin,u=e.defaultValue(t.vertexFormat,h.VertexFormat.DEFAULT),l=e.defaultValue(t._drawNearPlane,!0);n instanceof R?(a=0,i=R.packedLength):n instanceof b&&(a=1,i=b.packedLength),this._frustumType=a,this._frustum=n.clone(),this._origin=r.Cartesian3.clone(f),this._orientation=o.Quaternion.clone(s),this._drawNearPlane=l,this._vertexFormat=u,this._workerName="createFrustumGeometry",this.packedLength=2+i+r.Cartesian3.packedLength+o.Quaternion.packedLength+h.VertexFormat.packedLength}T.pack=function(t,a,i){i=e.defaultValue(i,0);var n=t._frustumType,s=t._frustum;return a[i++]=n,0===n?(R.pack(s,a,i),i+=R.packedLength):(b.pack(s,a,i),i+=b.packedLength),r.Cartesian3.pack(t._origin,a,i),i+=r.Cartesian3.packedLength,o.Quaternion.pack(t._orientation,a,i),i+=o.Quaternion.packedLength,h.VertexFormat.pack(t._vertexFormat,a,i),a[i+=h.VertexFormat.packedLength]=t._drawNearPlane?1:0,a};var k=new R,A=new b,D=new o.Quaternion,I=new r.Cartesian3,q=new h.VertexFormat;function B(t,a,i,r,n,o,s,f){for(var u=t/3*2,l=0;l<4;++l)e.defined(a)&&(a[t]=o.x,a[t+1]=o.y,a[t+2]=o.z),e.defined(i)&&(i[t]=s.x,i[t+1]=s.y,i[t+2]=s.z),e.defined(r)&&(r[t]=f.x,r[t+1]=f.y,r[t+2]=f.z),t+=3;n[u]=0,n[u+1]=0,n[u+2]=1,n[u+3]=0,n[u+4]=1,n[u+5]=1,n[u+6]=0,n[u+7]=1}T.unpack=function(t,a,i){a=e.defaultValue(a,0);var n,s=t[a++];0===s?(n=R.unpack(t,a,k),a+=R.packedLength):(n=b.unpack(t,a,A),a+=b.packedLength);var f=r.Cartesian3.unpack(t,a,I);a+=r.Cartesian3.packedLength;var u=o.Quaternion.unpack(t,a,D);a+=o.Quaternion.packedLength;var l=h.VertexFormat.unpack(t,a,q),p=1===t[a+=h.VertexFormat.packedLength];if(!e.defined(i))return new T({frustum:n,origin:f,orientation:u,vertexFormat:l,_drawNearPlane:p});var d=s===i._frustumType?i._frustum:void 0;return i._frustum=n.clone(d),i._frustumType=s,i._origin=r.Cartesian3.clone(f,i._origin),i._orientation=o.Quaternion.clone(u,i._orientation),i._vertexFormat=h.VertexFormat.clone(l,i._vertexFormat),i._drawNearPlane=p,i};var L=new o.Matrix3,N=new o.Matrix4,G=new o.Matrix4,j=new r.Cartesian3,U=new r.Cartesian3,Q=new r.Cartesian3,K=new r.Cartesian3,Y=new r.Cartesian3,J=new r.Cartesian3,W=new Array(3),X=new Array(4);X[0]=new o.Cartesian4(-1,-1,1,1),X[1]=new o.Cartesian4(1,-1,1,1),X[2]=new o.Cartesian4(1,1,1,1),X[3]=new o.Cartesian4(-1,1,1,1);for(var Z=new Array(4),H=0;H<4;++H)Z[H]=new o.Cartesian4;T._computeNearFarPlanes=function(t,a,i,n,s,f,u,l){var h=o.Matrix3.fromQuaternion(a,L),p=e.defaultValue(f,j),d=e.defaultValue(u,U),c=e.defaultValue(l,Q);p=o.Matrix3.getColumn(h,0,p),d=o.Matrix3.getColumn(h,1,d),c=o.Matrix3.getColumn(h,2,c),r.Cartesian3.normalize(p,p),r.Cartesian3.normalize(d,d),r.Cartesian3.normalize(c,c),r.Cartesian3.negate(p,p);var m,C,_=o.Matrix4.computeView(t,c,d,p,N);if(0===i){var y=n.projectionMatrix,v=o.Matrix4.multiply(y,_,G);C=o.Matrix4.inverse(v,G)}else m=o.Matrix4.inverseTransformation(_,G);e.defined(C)?(W[0]=n.near,W[1]=n.far):(W[0]=0,W[1]=n.near,W[2]=n.far);for(var g=0;g<2;++g)for(var w=0;w<4;++w){var x=o.Cartesian4.clone(X[w],Z[w]);if(e.defined(C)){var b=1/(x=o.Matrix4.multiplyByVector(C,x,x)).w;r.Cartesian3.multiplyByScalar(x,b,x),r.Cartesian3.subtract(x,t,x),r.Cartesian3.normalize(x,x);var M=r.Cartesian3.dot(c,x);r.Cartesian3.multiplyByScalar(x,W[g]/M,x),r.Cartesian3.add(x,t,x)}else{e.defined(n._offCenterFrustum)&&(n=n._offCenterFrustum);var F=W[g],V=W[g+1];x.x=.5*(x.x*(n.right-n.left)+n.left+n.right),x.y=.5*(x.y*(n.top-n.bottom)+n.bottom+n.top),x.z=.5*(x.z*(F-V)-F-V),x.w=1,o.Matrix4.multiplyByVector(m,x,x)}s[12*g+3*w]=x.x,s[12*g+3*w+1]=x.y,s[12*g+3*w+2]=x.z}},T.createGeometry=function(t){var a=t._frustumType,i=t._frustum,o=t._origin,l=t._orientation,h=t._drawNearPlane,p=t._vertexFormat,d=h?6:5,c=new Float64Array(72);T._computeNearFarPlanes(o,l,a,i,c);var m=24;c[m]=c[12],c[m+1]=c[13],c[m+2]=c[14],c[m+3]=c[0],c[m+4]=c[1],c[m+5]=c[2],c[m+6]=c[9],c[m+7]=c[10],c[m+8]=c[11],c[m+9]=c[21],c[m+10]=c[22],c[m+11]=c[23],c[m+=12]=c[15],c[m+1]=c[16],c[m+2]=c[17],c[m+3]=c[3],c[m+4]=c[4],c[m+5]=c[5],c[m+6]=c[0],c[m+7]=c[1],c[m+8]=c[2],c[m+9]=c[12],c[m+10]=c[13],c[m+11]=c[14],c[m+=12]=c[3],c[m+1]=c[4],c[m+2]=c[5],c[m+3]=c[15],c[m+4]=c[16],c[m+5]=c[17],c[m+6]=c[18],c[m+7]=c[19],c[m+8]=c[20],c[m+9]=c[6],c[m+10]=c[7],c[m+11]=c[8],c[m+=12]=c[6],c[m+1]=c[7],c[m+2]=c[8],c[m+3]=c[18],c[m+4]=c[19],c[m+5]=c[20],c[m+6]=c[21],c[m+7]=c[22],c[m+8]=c[23],c[m+9]=c[9],c[m+10]=c[10],c[m+11]=c[11],h||(c=c.subarray(12));var C=new u.GeometryAttributes({position:new f.GeometryAttribute({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:c})});if(e.defined(p.normal)||e.defined(p.tangent)||e.defined(p.bitangent)||e.defined(p.st)){var _=e.defined(p.normal)?new Float32Array(12*d):void 0,y=e.defined(p.tangent)?new Float32Array(12*d):void 0,v=e.defined(p.bitangent)?new Float32Array(12*d):void 0,g=e.defined(p.st)?new Float32Array(8*d):void 0,w=j,x=U,b=Q,M=r.Cartesian3.negate(w,K),F=r.Cartesian3.negate(x,Y),V=r.Cartesian3.negate(b,J);m=0,h&&(B(m,_,y,v,g,V,w,x),m+=12),B(m,_,y,v,g,b,M,x),B(m+=12,_,y,v,g,M,V,x),B(m+=12,_,y,v,g,F,V,M),B(m+=12,_,y,v,g,w,b,x),B(m+=12,_,y,v,g,x,b,M),e.defined(_)&&(C.normal=new f.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:_})),e.defined(y)&&(C.tangent=new f.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:y})),e.defined(v)&&(C.bitangent=new f.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:v})),e.defined(g)&&(C.st=new f.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:g}))}for(var E=new Uint16Array(6*d),O=0;O<d;++O){var P=6*O,z=4*O;E[P]=z,E[P+1]=z+1,E[P+2]=z+2,E[P+3]=z,E[P+4]=z+2,E[P+5]=z+3}return new f.Geometry({attributes:C,indices:E,primitiveType:f.PrimitiveType.TRIANGLES,boundingSphere:n.BoundingSphere.fromVertices(c)})},t.FrustumGeometry=T,t.OrthographicFrustum=b,t.PerspectiveFrustum=R}));

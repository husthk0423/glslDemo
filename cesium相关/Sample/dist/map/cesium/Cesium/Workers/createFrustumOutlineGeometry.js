define(["./when-c2e8ef35","./Check-c4f3a3fc","./Math-d30358ed","./Cartesian2-f9492f23","./BoundingSphere-dcb1d5fc","./Transforms-8b7e0d39","./RuntimeError-6122571f","./Rectangle-3285eeb3","./WebGLConstants-4ae0db90","./ComponentDatatype-5d3f6452","./GeometryAttribute-a5c051b9","./GeometryAttributes-57608efc","./Plane-dbdf17bf","./VertexFormat-ad523db1","./FrustumGeometry-6c472ed2"],(function(e,t,r,n,a,u,i,o,c,s,p,m,d,f,h){"use strict";function g(t){var r,a,i=t.frustum,o=t.orientation,c=t.origin,s=e.defaultValue(t._drawNearPlane,!0);i instanceof h.PerspectiveFrustum?(r=0,a=h.PerspectiveFrustum.packedLength):i instanceof h.OrthographicFrustum&&(r=1,a=h.OrthographicFrustum.packedLength),this._frustumType=r,this._frustum=i.clone(),this._origin=n.Cartesian3.clone(c),this._orientation=u.Quaternion.clone(o),this._drawNearPlane=s,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+a+n.Cartesian3.packedLength+u.Quaternion.packedLength}g.pack=function(t,r,a){a=e.defaultValue(a,0);var i=t._frustumType,o=t._frustum;return r[a++]=i,0===i?(h.PerspectiveFrustum.pack(o,r,a),a+=h.PerspectiveFrustum.packedLength):(h.OrthographicFrustum.pack(o,r,a),a+=h.OrthographicFrustum.packedLength),n.Cartesian3.pack(t._origin,r,a),a+=n.Cartesian3.packedLength,u.Quaternion.pack(t._orientation,r,a),r[a+=u.Quaternion.packedLength]=t._drawNearPlane?1:0,r};var _=new h.PerspectiveFrustum,k=new h.OrthographicFrustum,l=new u.Quaternion,y=new n.Cartesian3;return g.unpack=function(t,r,a){r=e.defaultValue(r,0);var i,o=t[r++];0===o?(i=h.PerspectiveFrustum.unpack(t,r,_),r+=h.PerspectiveFrustum.packedLength):(i=h.OrthographicFrustum.unpack(t,r,k),r+=h.OrthographicFrustum.packedLength);var c=n.Cartesian3.unpack(t,r,y);r+=n.Cartesian3.packedLength;var s=u.Quaternion.unpack(t,r,l),p=1===t[r+=u.Quaternion.packedLength];if(!e.defined(a))return new g({frustum:i,origin:c,orientation:s,_drawNearPlane:p});var m=o===a._frustumType?a._frustum:void 0;return a._frustum=i.clone(m),a._frustumType=o,a._origin=n.Cartesian3.clone(c,a._origin),a._orientation=u.Quaternion.clone(s,a._orientation),a._drawNearPlane=p,a},g.createGeometry=function(e){var t=e._frustumType,r=e._frustum,n=e._origin,u=e._orientation,i=e._drawNearPlane,o=new Float64Array(24);h.FrustumGeometry._computeNearFarPlanes(n,u,t,r,o);for(var c,d,f=new m.GeometryAttributes({position:new p.GeometryAttribute({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:o})}),g=i?2:1,_=new Uint16Array(8*(g+1)),k=i?0:1;k<2;++k)d=4*k,_[c=i?8*k:0]=d,_[c+1]=d+1,_[c+2]=d+1,_[c+3]=d+2,_[c+4]=d+2,_[c+5]=d+3,_[c+6]=d+3,_[c+7]=d;for(k=0;k<2;++k)d=4*k,_[c=8*(g+k)]=d,_[c+1]=d+4,_[c+2]=d+1,_[c+3]=d+5,_[c+4]=d+2,_[c+5]=d+6,_[c+6]=d+3,_[c+7]=d+7;return new p.Geometry({attributes:f,indices:_,primitiveType:p.PrimitiveType.LINES,boundingSphere:a.BoundingSphere.fromVertices(o)})},function(t,r){return e.defined(r)&&(t=g.unpack(t,r)),g.createGeometry(t)}}));

define(["./when-c2e8ef35","./Check-c4f3a3fc","./Math-d30358ed","./Cartesian2-f9492f23","./BoundingSphere-dcb1d5fc","./Transforms-8b7e0d39","./RuntimeError-6122571f","./Rectangle-3285eeb3","./WebGLConstants-4ae0db90","./ComponentDatatype-5d3f6452","./GeometryAttribute-a5c051b9","./EncodedCartesian3-4f87492e","./IntersectionTests-525ff5aa","./Plane-dbdf17bf","./WebMercatorProjection-6d7fb40a","./arrayRemoveDuplicates-a580a060","./ArcType-29cf2197","./EllipsoidRhumbLine-01c8204c","./EllipsoidGeodesic-c0017f17"],(function(e,a,t,n,r,i,s,o,l,u,c,C,p,d,h,g,f,m,w){"use strict";function v(a){a=e.defaultValue(a,e.defaultValue.EMPTY_OBJECT),this._ellipsoid=e.defaultValue(a.ellipsoid,n.Ellipsoid.WGS84),this._rectangle=e.defaultValue(a.rectangle,o.Rectangle.MAX_VALUE),this._projection=new r.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=e.defaultValue(a.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=e.defaultValue(a.numberOfLevelZeroTilesY,1)}Object.defineProperties(v.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),v.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},v.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},v.prototype.rectangleToNativeRectangle=function(a,n){var r=t.CesiumMath.toDegrees(a.west),i=t.CesiumMath.toDegrees(a.south),s=t.CesiumMath.toDegrees(a.east),l=t.CesiumMath.toDegrees(a.north);return e.defined(n)?(n.west=r,n.south=i,n.east=s,n.north=l,n):new o.Rectangle(r,i,s,l)},v.prototype.tileXYToNativeRectangle=function(e,a,n,r){var i=this.tileXYToRectangle(e,a,n,r);return i.west=t.CesiumMath.toDegrees(i.west),i.south=t.CesiumMath.toDegrees(i.south),i.east=t.CesiumMath.toDegrees(i.east),i.north=t.CesiumMath.toDegrees(i.north),i},v.prototype.tileXYToRectangle=function(a,t,n,r){var i=this._rectangle,s=this.getNumberOfXTilesAtLevel(n),l=this.getNumberOfYTilesAtLevel(n),u=i.width/s,c=a*u+i.west,C=(a+1)*u+i.west,p=i.height/l,d=i.north-t*p,h=i.north-(t+1)*p;return e.defined(r)||(r=new o.Rectangle(c,h,C,d)),r.west=c,r.south=h,r.east=C,r.north=d,r},v.prototype.positionToTileXY=function(a,r,i){var s=this._rectangle;if(o.Rectangle.contains(s,a)){var l=this.getNumberOfXTilesAtLevel(r),u=this.getNumberOfYTilesAtLevel(r),c=s.width/l,C=s.height/u,p=a.longitude;s.east<s.west&&(p+=t.CesiumMath.TWO_PI);var d=(p-s.west)/c|0;d>=l&&(d=l-1);var h=(s.north-a.latitude)/C|0;return h>=u&&(h=u-1),e.defined(i)?(i.x=d,i.y=h,i):new n.Cartesian2(d,h)}};var y=new n.Cartesian3,M=new n.Cartesian3,T=new n.Cartographic,E=new n.Cartesian3,_=new n.Cartesian3,O=new r.BoundingSphere,b=new v,P=[new n.Cartographic,new n.Cartographic,new n.Cartographic,new n.Cartographic],k=new n.Cartesian2,A={};function S(e){n.Cartographic.fromRadians(e.east,e.north,0,P[0]),n.Cartographic.fromRadians(e.west,e.north,0,P[1]),n.Cartographic.fromRadians(e.east,e.south,0,P[2]),n.Cartographic.fromRadians(e.west,e.south,0,P[3]);var a,t=0,r=0,i=0,s=0,o=A._terrainHeightsMaxLevel;for(a=0;a<=o;++a){for(var l=!1,u=0;u<4;++u){var c=P[u];if(b.positionToTileXY(c,a,k),0===u)i=k.x,s=k.y;else if(i!==k.x||s!==k.y){l=!0;break}}if(l)break;t=i,r=s}if(0!==a)return{x:t,y:r,level:a>o?o:a-1}}A.initialize=function(){var a=A._initPromise;return e.defined(a)||(a=i.Resource.fetchJson(i.buildModuleUrl("Assets/approximateTerrainHeights.json")).then((function(e){A._terrainHeights=e})),A._initPromise=a),a},A.getMinimumMaximumHeights=function(a,t){t=e.defaultValue(t,n.Ellipsoid.WGS84);var r=S(a),i=A._defaultMinTerrainHeight,s=A._defaultMaxTerrainHeight;if(e.defined(r)){var l=r.level+"-"+r.x+"-"+r.y,u=A._terrainHeights[l];e.defined(u)&&(i=u[0],s=u[1]),t.cartographicToCartesian(o.Rectangle.northeast(a,T),y),t.cartographicToCartesian(o.Rectangle.southwest(a,T),M),n.Cartesian3.midpoint(M,y,E);var c=t.scaleToGeodeticSurface(E,_);if(e.defined(c)){var C=n.Cartesian3.distance(E,c);i=Math.min(i,-C)}else i=A._defaultMinTerrainHeight}return{minimumTerrainHeight:i=Math.max(A._defaultMinTerrainHeight,i),maximumTerrainHeight:s}},A.getBoundingSphere=function(a,t){t=e.defaultValue(t,n.Ellipsoid.WGS84);var i=S(a),s=A._defaultMaxTerrainHeight;if(e.defined(i)){var o=i.level+"-"+i.x+"-"+i.y,l=A._terrainHeights[o];e.defined(l)&&(s=l[1])}var u=r.BoundingSphere.fromRectangle3D(a,t,0);return r.BoundingSphere.fromRectangle3D(a,t,s,O),r.BoundingSphere.union(u,O,u)},A._terrainHeightsMaxLevel=6,A._defaultMaxTerrainHeight=9e3,A._defaultMinTerrainHeight=-1e5,A._terrainHeights=void 0,A._initPromise=void 0,Object.defineProperties(A,{initialized:{get:function(){return e.defined(A._terrainHeights)}}});var L=[r.GeographicProjection,h.WebMercatorProjection],I=L.length,x=Math.cos(t.CesiumMath.toRadians(30)),N=Math.cos(t.CesiumMath.toRadians(150));function R(a){var t=(a=e.defaultValue(a,e.defaultValue.EMPTY_OBJECT)).positions;this.width=e.defaultValue(a.width,1),this._positions=t,this.granularity=e.defaultValue(a.granularity,9999),this.loop=e.defaultValue(a.loop,!1),this.arcType=e.defaultValue(a.arcType,f.ArcType.GEODESIC),this._ellipsoid=n.Ellipsoid.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(R.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+n.Ellipsoid.packedLength+1+1}}}),R.setProjectionAndEllipsoid=function(e,a){for(var t=0,n=0;n<I;n++)if(a instanceof L[n]){t=n;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var D=new n.Cartesian3,z=new n.Cartesian3,H=new n.Cartesian3;function B(e,a,t,r,i){var s=X(r,e,0,D),o=X(r,e,t,z),l=X(r,a,0,H),u=W(o,s,z),c=W(l,s,H);return n.Cartesian3.cross(c,u,i),n.Cartesian3.normalize(i,i)}var j=new n.Cartographic,G=new n.Cartesian3,V=new n.Cartesian3,Y=new n.Cartesian3;function F(e,a,t,r,i,s,o,l,u,c,C){if(0!==i){var p;s===f.ArcType.GEODESIC?p=new w.EllipsoidGeodesic(e,a,o):s===f.ArcType.RHUMB&&(p=new m.EllipsoidRhumbLine(e,a,o));var d=p.surfaceDistance;if(!(d<i))for(var h=B(e,a,r,o,Y),g=Math.ceil(d/i),v=d/g,y=v,M=g-1,T=l.length,E=0;E<M;E++){var _=p.interpolateUsingSurfaceDistance(y,j),O=X(o,_,t,G),b=X(o,_,r,V);n.Cartesian3.pack(h,l,T),n.Cartesian3.pack(O,u,T),n.Cartesian3.pack(b,c,T),C.push(_.latitude),C.push(_.longitude),T+=3,y+=v}}}var q=new n.Cartographic;function X(e,a,t,r){return n.Cartographic.clone(a,q),q.height=t,n.Cartographic.toCartesian(q,e,r)}function W(e,a,t){return n.Cartesian3.subtract(e,a,t),n.Cartesian3.normalize(t,t),t}function U(e,a,t,r){return r=W(e,a,r),r=n.Cartesian3.cross(r,t,r),r=n.Cartesian3.normalize(r,r),r=n.Cartesian3.cross(t,r,r)}R.pack=function(a,t,r){var i=e.defaultValue(r,0),s=a._positions,o=s.length;t[i++]=o;for(var l=0;l<o;++l){var u=s[l];n.Cartesian3.pack(u,t,i),i+=3}return t[i++]=a.granularity,t[i++]=a.loop?1:0,t[i++]=a.arcType,n.Ellipsoid.pack(a._ellipsoid,t,i),i+=n.Ellipsoid.packedLength,t[i++]=a._projectionIndex,t[i++]=a._scene3DOnly?1:0,t},R.unpack=function(a,t,r){for(var i=e.defaultValue(t,0),s=a[i++],o=new Array(s),l=0;l<s;l++)o[l]=n.Cartesian3.unpack(a,i),i+=3;var u=a[i++],c=1===a[i++],C=a[i++],p=n.Ellipsoid.unpack(a,i);i+=n.Ellipsoid.packedLength;var d=a[i++],h=1===a[i++];return e.defined(r)||(r=new R({positions:o})),r._positions=o,r.granularity=u,r.loop=c,r.arcType=C,r._ellipsoid=p,r._projectionIndex=d,r._scene3DOnly=h,r};var Z=new n.Cartesian3,J=new n.Cartesian3,Q=new n.Cartesian3,K=new n.Cartesian3;function $(e,a,r,i,s){var o=W(r,a,K),l=U(e,a,o,Z),u=U(i,a,o,J);if(t.CesiumMath.equalsEpsilon(n.Cartesian3.dot(l,u),-1,t.CesiumMath.EPSILON5))return s=n.Cartesian3.cross(o,l,s),s=n.Cartesian3.normalize(s,s);s=n.Cartesian3.add(u,l,s),s=n.Cartesian3.normalize(s,s);var c=n.Cartesian3.cross(o,s,Q);return n.Cartesian3.dot(u,c)<0&&(s=n.Cartesian3.negate(s,s)),s}var ee=d.Plane.fromPointNormal(n.Cartesian3.ZERO,n.Cartesian3.UNIT_Y),ae=new n.Cartesian3,te=new n.Cartesian3,ne=new n.Cartesian3,re=new n.Cartesian3,ie=new n.Cartesian3,se=new n.Cartesian3,oe=new n.Cartographic,le=new n.Cartographic,ue=new n.Cartographic;R.createGeometry=function(a){var i,s,l,d,h,w,v=!a._scene3DOnly,y=a.loop,M=a._ellipsoid,T=a.granularity,E=a.arcType,_=new L[a._projectionIndex](M),O=1e3,b=a._positions,P=b.length;2===P&&(y=!1);var k,S,I,N=new m.EllipsoidRhumbLine(void 0,void 0,M),R=[b[0]];for(s=0;s<P-1;s++)l=b[s],d=b[s+1],k=p.IntersectionTests.lineSegmentPlane(l,d,ee,se),!e.defined(k)||n.Cartesian3.equalsEpsilon(k,l,t.CesiumMath.EPSILON7)||n.Cartesian3.equalsEpsilon(k,d,t.CesiumMath.EPSILON7)||(a.arcType===f.ArcType.GEODESIC?R.push(n.Cartesian3.clone(k)):a.arcType===f.ArcType.RHUMB&&(I=M.cartesianToCartographic(k,oe).longitude,h=M.cartesianToCartographic(l,oe),w=M.cartesianToCartographic(d,le),N.setEndPoints(h,w),S=N.findIntersectionWithLongitude(I,ue),k=M.cartographicToCartesian(S,se),!e.defined(k)||n.Cartesian3.equalsEpsilon(k,l,t.CesiumMath.EPSILON7)||n.Cartesian3.equalsEpsilon(k,d,t.CesiumMath.EPSILON7)||R.push(n.Cartesian3.clone(k)))),R.push(d);y&&(l=b[P-1],d=b[0],k=p.IntersectionTests.lineSegmentPlane(l,d,ee,se),!e.defined(k)||n.Cartesian3.equalsEpsilon(k,l,t.CesiumMath.EPSILON7)||n.Cartesian3.equalsEpsilon(k,d,t.CesiumMath.EPSILON7)||(a.arcType===f.ArcType.GEODESIC?R.push(n.Cartesian3.clone(k)):a.arcType===f.ArcType.RHUMB&&(I=M.cartesianToCartographic(k,oe).longitude,h=M.cartesianToCartographic(l,oe),w=M.cartesianToCartographic(d,le),N.setEndPoints(h,w),S=N.findIntersectionWithLongitude(I,ue),k=M.cartographicToCartesian(S,se),!e.defined(k)||n.Cartesian3.equalsEpsilon(k,l,t.CesiumMath.EPSILON7)||n.Cartesian3.equalsEpsilon(k,d,t.CesiumMath.EPSILON7)||R.push(n.Cartesian3.clone(k)))));var D=R.length,z=new Array(D);for(s=0;s<D;s++){var H=n.Cartographic.fromCartesian(R[s],M);H.height=0,z[s]=H}if(!((D=(z=g.arrayRemoveDuplicates(z,n.Cartographic.equalsEpsilon)).length)<2)){var j=[],G=[],V=[],Y=[],q=ae,U=te,Z=ne,J=re,Q=ie,K=z[0],ce=z[1];for(q=X(M,z[D-1],0,q),J=X(M,ce,0,J),U=X(M,K,0,U),Z=X(M,K,O,Z),Q=y?$(q,U,Z,J,Q):B(K,ce,O,M,Q),n.Cartesian3.pack(Q,G,0),n.Cartesian3.pack(U,V,0),n.Cartesian3.pack(Z,Y,0),j.push(K.latitude),j.push(K.longitude),F(K,ce,0,O,T,E,M,G,V,Y,j),s=1;s<D-1;++s){q=n.Cartesian3.clone(U,q),U=n.Cartesian3.clone(J,U);var Ce=z[s];X(M,Ce,O,Z),X(M,z[s+1],0,J),$(q,U,Z,J,Q),i=G.length,n.Cartesian3.pack(Q,G,i),n.Cartesian3.pack(U,V,i),n.Cartesian3.pack(Z,Y,i),j.push(Ce.latitude),j.push(Ce.longitude),F(z[s],z[s+1],0,O,T,E,M,G,V,Y,j)}var pe=z[D-1],he=z[D-2];if(U=X(M,pe,0,U),Z=X(M,pe,O,Z),y){var ge=z[0];Q=$(q=X(M,he,0,q),U,Z,J=X(M,ge,0,J),Q)}else Q=B(he,pe,O,M,Q);if(i=G.length,n.Cartesian3.pack(Q,G,i),n.Cartesian3.pack(U,V,i),n.Cartesian3.pack(Z,Y,i),j.push(pe.latitude),j.push(pe.longitude),y){for(F(pe,K,0,O,T,E,M,G,V,Y,j),i=G.length,s=0;s<3;++s)G[i+s]=G[s],V[i+s]=V[s],Y[i+s]=Y[s];j.push(K.latitude),j.push(K.longitude)}return function(e,a,i,s,l,p,d){var h,g,f,m,w,v,y=a._ellipsoid,M=i.length/3-1,T=8*M,E=4*T,_=36*M,O=T>65535?new Uint32Array(_):new Uint16Array(_),b=new Float64Array(3*T),P=new Float32Array(E),k=new Float32Array(E),S=new Float32Array(E),L=new Float32Array(E),I=new Float32Array(E);d&&(f=new Float32Array(E),m=new Float32Array(E),w=new Float32Array(E),v=new Float32Array(2*T));var N=p.length/2,R=0,D=_e;D.height=0;var z=Oe;z.height=0;var H=be,B=Pe;if(d)for(g=0,h=1;h<N;h++)D.latitude=p[g],D.longitude=p[g+1],z.latitude=p[g+2],z.longitude=p[g+3],H=a.project(D,H),B=a.project(z,B),R+=n.Cartesian3.distance(H,B),g+=2;var j=s.length/3;B=n.Cartesian3.unpack(s,0,B);var G,V=0;for(g=3,h=1;h<j;h++)H=n.Cartesian3.clone(B,H),B=n.Cartesian3.unpack(s,g,B),V+=n.Cartesian3.distance(H,B),g+=3;g=3;var Y=0,F=0,q=0,X=0,U=!1,Z=n.Cartesian3.unpack(i,0,Ae),J=n.Cartesian3.unpack(s,0,Pe),Q=n.Cartesian3.unpack(l,0,Le);if(e){de(Q,n.Cartesian3.unpack(i,i.length-6,ke),Z,J)&&(Q=n.Cartesian3.negate(Q,Q))}var K=0,$=0,ee=0;for(h=0;h<M;h++){var ae,te,ne,re,ie=n.Cartesian3.clone(Z,ke),se=n.Cartesian3.clone(J,be),oe=n.Cartesian3.clone(Q,Se);if(U&&(oe=n.Cartesian3.negate(oe,oe)),Z=n.Cartesian3.unpack(i,g,Ae),J=n.Cartesian3.unpack(s,g,Pe),U=de(Q=n.Cartesian3.unpack(l,g,Le),ie,Z,J),D.latitude=p[Y],D.longitude=p[Y+1],z.latitude=p[Y+2],z.longitude=p[Y+3],d){var le=Ee(D,z);ae=a.project(D,He);var ue=W(te=a.project(z,Be),ae,Je);ue.y=Math.abs(ue.y),ne=je,re=Ge,0===le||n.Cartesian3.dot(ue,n.Cartesian3.UNIT_Y)>x?(ne=me(a,D,oe,ae,je),re=me(a,z,Q,te,Ge)):1===le?(re=me(a,z,Q,te,Ge),ne.x=0,ne.y=t.CesiumMath.sign(D.longitude-Math.abs(z.longitude)),ne.z=0):(ne=me(a,D,oe,ae,je),re.x=0,re.y=t.CesiumMath.sign(D.longitude-z.longitude),re.z=0)}var ce=n.Cartesian3.distance(se,J),Ce=C.EncodedCartesian3.fromCartesian(ie,Ue),pe=n.Cartesian3.subtract(Z,ie,Ve),he=n.Cartesian3.normalize(pe,qe),ge=n.Cartesian3.subtract(se,ie,Ye);ge=n.Cartesian3.normalize(ge,ge);var fe=n.Cartesian3.cross(he,ge,qe);fe=n.Cartesian3.normalize(fe,fe);var we=n.Cartesian3.cross(ge,oe,Xe);we=n.Cartesian3.normalize(we,we);var ve=n.Cartesian3.subtract(J,Z,Fe);ve=n.Cartesian3.normalize(ve,ve);var Me=n.Cartesian3.cross(Q,ve,We);Me=n.Cartesian3.normalize(Me,Me);var na,ra,ia,sa=ce/V,oa=K/V,la=0,ua=0,ca=0;if(d){la=n.Cartesian3.distance(ae,te),na=C.EncodedCartesian3.fromCartesian(ae,Ze),ra=n.Cartesian3.subtract(te,ae,Je);var Ca=(ia=n.Cartesian3.normalize(ra,Qe)).x;ia.x=ia.y,ia.y=-Ca,ua=la/R,ca=$/R}for(G=0;G<8;G++){var pa=X+4*G,da=F+2*G,ha=pa+3,ga=G<4?1:-1,fa=2===G||3===G||6===G||7===G?1:-1;n.Cartesian3.pack(Ce.high,P,pa),P[ha]=pe.x,n.Cartesian3.pack(Ce.low,k,pa),k[ha]=pe.y,n.Cartesian3.pack(we,S,pa),S[ha]=pe.z,n.Cartesian3.pack(Me,L,pa),L[ha]=sa*ga,n.Cartesian3.pack(fe,I,pa);var ma=oa*fa;0===ma&&fa<0&&(ma=9),I[ha]=ma,d&&(f[pa]=na.high.x,f[pa+1]=na.high.y,f[pa+2]=na.low.x,f[pa+3]=na.low.y,w[pa]=-ne.y,w[pa+1]=ne.x,w[pa+2]=re.y,w[pa+3]=-re.x,m[pa]=ra.x,m[pa+1]=ra.y,m[pa+2]=ia.x,m[pa+3]=ia.y,v[da]=ua*ga,0===(ma=ca*fa)&&fa<0&&(ma=9),v[da+1]=ma)}var wa=De,va=ze,ya=Ne,Ma=Re,Ta=o.Rectangle.fromCartographicArray(Ie,xe),Ea=A.getMinimumMaximumHeights(Ta,y),_a=Ea.minimumTerrainHeight,Oa=Ea.maximumTerrainHeight;ee+=_a,ee+=Oa,ye(ie,se,_a,Oa,wa,ya),ye(Z,J,_a,Oa,va,Ma);var ba=n.Cartesian3.multiplyByScalar(fe,t.CesiumMath.EPSILON5,Ke);n.Cartesian3.add(wa,ba,wa),n.Cartesian3.add(va,ba,va),n.Cartesian3.add(ya,ba,ya),n.Cartesian3.add(Ma,ba,Ma),Te(wa,va),Te(ya,Ma),n.Cartesian3.pack(wa,b,q),n.Cartesian3.pack(va,b,q+3),n.Cartesian3.pack(Ma,b,q+6),n.Cartesian3.pack(ya,b,q+9),ba=n.Cartesian3.multiplyByScalar(fe,-2*t.CesiumMath.EPSILON5,Ke),n.Cartesian3.add(wa,ba,wa),n.Cartesian3.add(va,ba,va),n.Cartesian3.add(ya,ba,ya),n.Cartesian3.add(Ma,ba,Ma),Te(wa,va),Te(ya,Ma),n.Cartesian3.pack(wa,b,q+12),n.Cartesian3.pack(va,b,q+15),n.Cartesian3.pack(Ma,b,q+18),n.Cartesian3.pack(ya,b,q+21),Y+=2,g+=3,F+=16,q+=24,X+=32,K+=ce,$+=la}g=0;var Pa=0;for(h=0;h<M;h++){for(G=0;G<aa;G++)O[g+G]=ea[G]+Pa;Pa+=8,g+=aa}var ka=$e;r.BoundingSphere.fromVertices(i,n.Cartesian3.ZERO,3,ka[0]),r.BoundingSphere.fromVertices(s,n.Cartesian3.ZERO,3,ka[1]);var Aa=r.BoundingSphere.fromBoundingSpheres(ka);Aa.radius+=ee/(2*M);var Sa={position:new c.GeometryAttribute({componentDatatype:u.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:b}),startHiAndForwardOffsetX:ta(P),startLoAndForwardOffsetY:ta(k),startNormalAndForwardOffsetZ:ta(S),endNormalAndTextureCoordinateNormalizationX:ta(L),rightNormalAndTextureCoordinateNormalizationY:ta(I)};d&&(Sa.startHiLo2D=ta(f),Sa.offsetAndRight2D=ta(m),Sa.startEndNormals2D=ta(w),Sa.texcoordNormalization2D=new c.GeometryAttribute({componentDatatype:u.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:v}));return new c.Geometry({attributes:Sa,indices:O,boundingSphere:Aa})}(y,_,V,Y,G,j,v)}};var ce=new n.Cartesian3,Ce=new i.Matrix3,pe=new i.Quaternion;function de(e,a,r,s){var o=W(r,a,ce),l=n.Cartesian3.dot(o,e);if(l>x||l<N){var u=W(s,r,K),c=l<N?t.CesiumMath.PI_OVER_TWO:-t.CesiumMath.PI_OVER_TWO,C=i.Quaternion.fromAxisAngle(u,c,pe),p=i.Matrix3.fromQuaternion(C,Ce);return i.Matrix3.multiplyByVector(p,e,e),!0}return!1}var he=new n.Cartographic,ge=new n.Cartesian3,fe=new n.Cartesian3;function me(e,a,r,i,s){var o=n.Cartographic.toCartesian(a,e._ellipsoid,ge),l=n.Cartesian3.add(o,r,fe),u=!1,c=e._ellipsoid,C=c.cartesianToCartographic(l,he);Math.abs(a.longitude-C.longitude)>t.CesiumMath.PI_OVER_TWO&&(u=!0,l=n.Cartesian3.subtract(o,r,fe),C=c.cartesianToCartographic(l,he)),C.height=0;var p=e.project(C,s);return(s=n.Cartesian3.subtract(p,i,s)).z=0,s=n.Cartesian3.normalize(s,s),u&&n.Cartesian3.negate(s,s),s}var we=new n.Cartesian3,ve=new n.Cartesian3;function ye(e,a,t,r,i,s){var o=n.Cartesian3.subtract(a,e,we);n.Cartesian3.normalize(o,o);var l=t-0,u=n.Cartesian3.multiplyByScalar(o,l,ve);n.Cartesian3.add(e,u,i);var c=r-1e3;u=n.Cartesian3.multiplyByScalar(o,c,ve),n.Cartesian3.add(a,u,s)}var Me=new n.Cartesian3;function Te(e,a){var r=d.Plane.getPointDistance(ee,e),i=d.Plane.getPointDistance(ee,a),s=Me;t.CesiumMath.equalsEpsilon(r,0,t.CesiumMath.EPSILON2)?(s=W(a,e,s),n.Cartesian3.multiplyByScalar(s,t.CesiumMath.EPSILON2,s),n.Cartesian3.add(e,s,e)):t.CesiumMath.equalsEpsilon(i,0,t.CesiumMath.EPSILON2)&&(s=W(e,a,s),n.Cartesian3.multiplyByScalar(s,t.CesiumMath.EPSILON2,s),n.Cartesian3.add(a,s,a))}function Ee(e,a){var n=Math.abs(e.longitude),r=Math.abs(a.longitude);if(t.CesiumMath.equalsEpsilon(n,t.CesiumMath.PI,t.CesiumMath.EPSILON11)){var i=t.CesiumMath.sign(a.longitude);return e.longitude=i*(n-t.CesiumMath.EPSILON11),1}if(t.CesiumMath.equalsEpsilon(r,t.CesiumMath.PI,t.CesiumMath.EPSILON11)){var s=t.CesiumMath.sign(e.longitude);return a.longitude=s*(r-t.CesiumMath.EPSILON11),2}return 0}var _e=new n.Cartographic,Oe=new n.Cartographic,be=new n.Cartesian3,Pe=new n.Cartesian3,ke=new n.Cartesian3,Ae=new n.Cartesian3,Se=new n.Cartesian3,Le=new n.Cartesian3,Ie=[_e,Oe],xe=new o.Rectangle,Ne=new n.Cartesian3,Re=new n.Cartesian3,De=new n.Cartesian3,ze=new n.Cartesian3,He=new n.Cartesian3,Be=new n.Cartesian3,je=new n.Cartesian3,Ge=new n.Cartesian3,Ve=new n.Cartesian3,Ye=new n.Cartesian3,Fe=new n.Cartesian3,qe=new n.Cartesian3,Xe=new n.Cartesian3,We=new n.Cartesian3,Ue=new C.EncodedCartesian3,Ze=new C.EncodedCartesian3,Je=new n.Cartesian3,Qe=new n.Cartesian3,Ke=new n.Cartesian3,$e=[new r.BoundingSphere,new r.BoundingSphere],ea=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],aa=ea.length;function ta(e){return new c.GeometryAttribute({componentDatatype:u.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return R._projectNormal=me,function(a,t){return A.initialize().then((function(){return e.defined(t)&&(a=R.unpack(a,t)),R.createGeometry(a)}))}}));

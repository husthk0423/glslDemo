define(["exports","./BoundingSphere-2b618cd6","./Cartesian2-cce28994","./Matrix4-da4bb68c","./Check-edea0f91","./ComponentDatatype-c1201c79","./defaultValue-81eec7ed","./GeometryAttribute-c4e682f4","./GeometryAttributes-32b29525","./Math-29cbc3fa","./Plane-d04f021c","./Transforms-599d3866","./VertexFormat-aef87cc2"],(function(t,e,a,i,r,n,o,s,f,u,l,h,p){"use strict";function d(t){this.planes=o.defaultValue(t,[])}var c=[new a.Cartesian3,new a.Cartesian3,new a.Cartesian3];a.Cartesian3.clone(a.Cartesian3.UNIT_X,c[0]),a.Cartesian3.clone(a.Cartesian3.UNIT_Y,c[1]),a.Cartesian3.clone(a.Cartesian3.UNIT_Z,c[2]);var m=new a.Cartesian3,C=new a.Cartesian3,_=new l.Plane(new a.Cartesian3(1,0,0),0);function y(t){t=o.defaultValue(t,o.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=o.defaultValue(t.near,1),this._near=this.near,this.far=o.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new d,this._orthographicMatrix=new i.Matrix4}function v(t){t.top===t._top&&t.bottom===t._bottom&&t.left===t._left&&t.right===t._right&&t.near===t._near&&t.far===t._far||(t._left=t.left,t._right=t.right,t._top=t.top,t._bottom=t.bottom,t._near=t.near,t._far=t.far,t._orthographicMatrix=i.Matrix4.computeOrthographicOffCenter(t.left,t.right,t.bottom,t.top,t.near,t.far,t._orthographicMatrix))}d.fromBoundingSphere=function(t,e){o.defined(e)||(e=new d);var r=c.length,n=e.planes;n.length=2*r;for(var s=t.center,f=t.radius,u=0,l=0;l<r;++l){var h=c[l],p=n[u],_=n[u+1];o.defined(p)||(p=n[u]=new i.Cartesian4),o.defined(_)||(_=n[u+1]=new i.Cartesian4),a.Cartesian3.multiplyByScalar(h,-f,m),a.Cartesian3.add(s,m,m),p.x=h.x,p.y=h.y,p.z=h.z,p.w=-a.Cartesian3.dot(h,m),a.Cartesian3.multiplyByScalar(h,f,m),a.Cartesian3.add(s,m,m),_.x=-h.x,_.y=-h.y,_.z=-h.z,_.w=-a.Cartesian3.dot(a.Cartesian3.negate(h,C),m),u+=2}return e},d.prototype.computeVisibility=function(t){for(var a=this.planes,i=!1,r=0,n=a.length;r<n;++r){var o=t.intersectPlane(l.Plane.fromCartesian4(a[r],_));if(o===e.Intersect.OUTSIDE)return e.Intersect.OUTSIDE;o===e.Intersect.INTERSECTING&&(i=!0)}return i?e.Intersect.INTERSECTING:e.Intersect.INSIDE},d.prototype.computeVisibilityWithPlaneMask=function(t,a){if(a===d.MASK_OUTSIDE||a===d.MASK_INSIDE)return a;for(var i=d.MASK_INSIDE,r=this.planes,n=0,o=r.length;n<o;++n){var s=n<31?1<<n:0;if(!(n<31&&0==(a&s))){var f=t.intersectPlane(l.Plane.fromCartesian4(r[n],_));if(f===e.Intersect.OUTSIDE)return d.MASK_OUTSIDE;f===e.Intersect.INTERSECTING&&(i|=s)}}return i},d.MASK_OUTSIDE=4294967295,d.MASK_INSIDE=0,d.MASK_INDETERMINATE=2147483647,Object.defineProperties(y.prototype,{projectionMatrix:{get:function(){return v(this),this._orthographicMatrix}}});var g=new a.Cartesian3,w=new a.Cartesian3,x=new a.Cartesian3,M=new a.Cartesian3;function b(t){t=o.defaultValue(t,o.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new y,this.width=t.width,this._width=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=o.defaultValue(t.near,1),this._near=this.near,this.far=o.defaultValue(t.far,5e8),this._far=this.far}function V(t){var e=t._offCenterFrustum;if(t.width!==t._width||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far){t._aspectRatio=t.aspectRatio,t._width=t.width,t._near=t.near,t._far=t.far;var a=1/t.aspectRatio;e.right=.5*t.width,e.left=-e.right,e.top=a*e.right,e.bottom=-e.top,e.near=t.near,e.far=t.far}}function F(t){t=o.defaultValue(t,o.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=o.defaultValue(t.near,1),this._near=this.near,this.far=o.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new d,this._perspectiveMatrix=new i.Matrix4,this._infinitePerspective=new i.Matrix4}function E(t){var e=t.top,a=t.bottom,r=t.right,n=t.left,o=t.near,s=t.far;e===t._top&&a===t._bottom&&n===t._left&&r===t._right&&o===t._near&&s===t._far||(t._left=n,t._right=r,t._top=e,t._bottom=a,t._near=o,t._far=s,t._perspectiveMatrix=i.Matrix4.computePerspectiveOffCenter(n,r,a,e,o,s,t._perspectiveMatrix),t._infinitePerspective=i.Matrix4.computeInfinitePerspectiveOffCenter(n,r,a,e,o,t._infinitePerspective))}y.prototype.computeCullingVolume=function(t,e,r){var n=this._cullingVolume.planes,s=this.top,f=this.bottom,u=this.right,l=this.left,h=this.near,p=this.far,d=a.Cartesian3.cross(e,r,g);a.Cartesian3.normalize(d,d);var c=w;a.Cartesian3.multiplyByScalar(e,h,c),a.Cartesian3.add(t,c,c);var m=x;a.Cartesian3.multiplyByScalar(d,l,m),a.Cartesian3.add(c,m,m);var C=n[0];return o.defined(C)||(C=n[0]=new i.Cartesian4),C.x=d.x,C.y=d.y,C.z=d.z,C.w=-a.Cartesian3.dot(d,m),a.Cartesian3.multiplyByScalar(d,u,m),a.Cartesian3.add(c,m,m),C=n[1],o.defined(C)||(C=n[1]=new i.Cartesian4),C.x=-d.x,C.y=-d.y,C.z=-d.z,C.w=-a.Cartesian3.dot(a.Cartesian3.negate(d,M),m),a.Cartesian3.multiplyByScalar(r,f,m),a.Cartesian3.add(c,m,m),C=n[2],o.defined(C)||(C=n[2]=new i.Cartesian4),C.x=r.x,C.y=r.y,C.z=r.z,C.w=-a.Cartesian3.dot(r,m),a.Cartesian3.multiplyByScalar(r,s,m),a.Cartesian3.add(c,m,m),C=n[3],o.defined(C)||(C=n[3]=new i.Cartesian4),C.x=-r.x,C.y=-r.y,C.z=-r.z,C.w=-a.Cartesian3.dot(a.Cartesian3.negate(r,M),m),C=n[4],o.defined(C)||(C=n[4]=new i.Cartesian4),C.x=e.x,C.y=e.y,C.z=e.z,C.w=-a.Cartesian3.dot(e,c),a.Cartesian3.multiplyByScalar(e,p,m),a.Cartesian3.add(t,m,m),C=n[5],o.defined(C)||(C=n[5]=new i.Cartesian4),C.x=-e.x,C.y=-e.y,C.z=-e.z,C.w=-a.Cartesian3.dot(a.Cartesian3.negate(e,M),m),this._cullingVolume},y.prototype.getPixelDimensions=function(t,e,a,i,r){v(this);var n=i*(this.right-this.left)/t,o=i*(this.top-this.bottom)/e;return r.x=n,r.y=o,r},y.prototype.clone=function(t){return o.defined(t)||(t=new y),t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},y.prototype.equals=function(t){return o.defined(t)&&t instanceof y&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},y.prototype.equalsEpsilon=function(t,e,a){return t===this||o.defined(t)&&t instanceof y&&u.CesiumMath.equalsEpsilon(this.right,t.right,e,a)&&u.CesiumMath.equalsEpsilon(this.left,t.left,e,a)&&u.CesiumMath.equalsEpsilon(this.top,t.top,e,a)&&u.CesiumMath.equalsEpsilon(this.bottom,t.bottom,e,a)&&u.CesiumMath.equalsEpsilon(this.near,t.near,e,a)&&u.CesiumMath.equalsEpsilon(this.far,t.far,e,a)},b.packedLength=4,b.pack=function(t,e,a){return a=o.defaultValue(a,0),e[a++]=t.width,e[a++]=t.aspectRatio,e[a++]=t.near,e[a]=t.far,e},b.unpack=function(t,e,a){return e=o.defaultValue(e,0),o.defined(a)||(a=new b),a.width=t[e++],a.aspectRatio=t[e++],a.near=t[e++],a.far=t[e],a},Object.defineProperties(b.prototype,{projectionMatrix:{get:function(){return V(this),this._offCenterFrustum.projectionMatrix}}}),b.prototype.computeCullingVolume=function(t,e,a){return V(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},b.prototype.getPixelDimensions=function(t,e,a,i,r){return V(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,r)},b.prototype.clone=function(t){return o.defined(t)||(t=new b),t.aspectRatio=this.aspectRatio,t.width=this.width,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._width=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},b.prototype.equals=function(t){return!!(o.defined(t)&&t instanceof b)&&(V(this),V(t),this.width===t.width&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},b.prototype.equalsEpsilon=function(t,e,a){return!!(o.defined(t)&&t instanceof b)&&(V(this),V(t),u.CesiumMath.equalsEpsilon(this.width,t.width,e,a)&&u.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,a)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,a))},Object.defineProperties(F.prototype,{projectionMatrix:{get:function(){return E(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return E(this),this._infinitePerspective}}});var O=new a.Cartesian3,P=new a.Cartesian3,z=new a.Cartesian3,R=new a.Cartesian3;function S(t){t=o.defaultValue(t,o.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new F,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=o.defaultValue(t.near,1),this._near=this.near,this.far=o.defaultValue(t.far,5e8),this._far=this.far,this.xOffset=o.defaultValue(t.xOffset,0),this._xOffset=this.xOffset,this.yOffset=o.defaultValue(t.yOffset,0),this._yOffset=this.yOffset}function T(t){var e=t._offCenterFrustum;t.fov===t._fov&&t.aspectRatio===t._aspectRatio&&t.near===t._near&&t.far===t._far&&t.xOffset===t._xOffset&&t.yOffset===t._yOffset||(t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset,e.top=t.near*Math.tan(.5*t._fovy),e.bottom=-e.top,e.right=t.aspectRatio*e.top,e.left=-e.right,e.near=t.near,e.far=t.far,e.right+=t.xOffset,e.left+=t.xOffset,e.top+=t.yOffset,e.bottom+=t.yOffset)}F.prototype.computeCullingVolume=function(t,e,r){var n=this._cullingVolume.planes,s=this.top,f=this.bottom,u=this.right,l=this.left,h=this.near,p=this.far,d=a.Cartesian3.cross(e,r,O),c=P;a.Cartesian3.multiplyByScalar(e,h,c),a.Cartesian3.add(t,c,c);var m=z;a.Cartesian3.multiplyByScalar(e,p,m),a.Cartesian3.add(t,m,m);var C=R;a.Cartesian3.multiplyByScalar(d,l,C),a.Cartesian3.add(c,C,C),a.Cartesian3.subtract(C,t,C),a.Cartesian3.normalize(C,C),a.Cartesian3.cross(C,r,C),a.Cartesian3.normalize(C,C);var _=n[0];return o.defined(_)||(_=n[0]=new i.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-a.Cartesian3.dot(C,t),a.Cartesian3.multiplyByScalar(d,u,C),a.Cartesian3.add(c,C,C),a.Cartesian3.subtract(C,t,C),a.Cartesian3.cross(r,C,C),a.Cartesian3.normalize(C,C),_=n[1],o.defined(_)||(_=n[1]=new i.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-a.Cartesian3.dot(C,t),a.Cartesian3.multiplyByScalar(r,f,C),a.Cartesian3.add(c,C,C),a.Cartesian3.subtract(C,t,C),a.Cartesian3.cross(d,C,C),a.Cartesian3.normalize(C,C),_=n[2],o.defined(_)||(_=n[2]=new i.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-a.Cartesian3.dot(C,t),a.Cartesian3.multiplyByScalar(r,s,C),a.Cartesian3.add(c,C,C),a.Cartesian3.subtract(C,t,C),a.Cartesian3.cross(C,d,C),a.Cartesian3.normalize(C,C),_=n[3],o.defined(_)||(_=n[3]=new i.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-a.Cartesian3.dot(C,t),_=n[4],o.defined(_)||(_=n[4]=new i.Cartesian4),_.x=e.x,_.y=e.y,_.z=e.z,_.w=-a.Cartesian3.dot(e,c),a.Cartesian3.negate(e,C),_=n[5],o.defined(_)||(_=n[5]=new i.Cartesian4),_.x=C.x,_.y=C.y,_.z=C.z,_.w=-a.Cartesian3.dot(C,m),this._cullingVolume},F.prototype.getPixelDimensions=function(t,e,a,i,r){E(this);var n=1/this.near,o=this.top*n,s=2*i*a*o/e,f=2*i*a*(o=this.right*n)/t;return r.x=f,r.y=s,r},F.prototype.clone=function(t){return o.defined(t)||(t=new F),t.right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},F.prototype.equals=function(t){return o.defined(t)&&t instanceof F&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},F.prototype.equalsEpsilon=function(t,e,a){return t===this||o.defined(t)&&t instanceof F&&u.CesiumMath.equalsEpsilon(this.right,t.right,e,a)&&u.CesiumMath.equalsEpsilon(this.left,t.left,e,a)&&u.CesiumMath.equalsEpsilon(this.top,t.top,e,a)&&u.CesiumMath.equalsEpsilon(this.bottom,t.bottom,e,a)&&u.CesiumMath.equalsEpsilon(this.near,t.near,e,a)&&u.CesiumMath.equalsEpsilon(this.far,t.far,e,a)},S.packedLength=6,S.pack=function(t,e,a){return a=o.defaultValue(a,0),e[a++]=t.fov,e[a++]=t.aspectRatio,e[a++]=t.near,e[a++]=t.far,e[a++]=t.xOffset,e[a]=t.yOffset,e},S.unpack=function(t,e,a){return e=o.defaultValue(e,0),o.defined(a)||(a=new S),a.fov=t[e++],a.aspectRatio=t[e++],a.near=t[e++],a.far=t[e++],a.xOffset=t[e++],a.yOffset=t[e],a},Object.defineProperties(S.prototype,{projectionMatrix:{get:function(){return T(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return T(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return T(this),this._fovy}},sseDenominator:{get:function(){return T(this),this._sseDenominator}}}),S.prototype.computeCullingVolume=function(t,e,a){return T(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},S.prototype.getPixelDimensions=function(t,e,a,i,r){return T(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,r)},S.prototype.clone=function(t){return o.defined(t)||(t=new S),t.aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},S.prototype.equals=function(t){return!!(o.defined(t)&&t instanceof S)&&(T(this),T(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},S.prototype.equalsEpsilon=function(t,e,a){return!!(o.defined(t)&&t instanceof S)&&(T(this),T(t),u.CesiumMath.equalsEpsilon(this.fov,t.fov,e,a)&&u.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,a)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,a))};function k(t){var e,i,r=t.frustum,n=t.orientation,s=t.origin,f=o.defaultValue(t.vertexFormat,p.VertexFormat.DEFAULT),u=o.defaultValue(t._drawNearPlane,!0);r instanceof S?(e=0,i=S.packedLength):r instanceof b&&(e=1,i=b.packedLength),this._frustumType=e,this._frustum=r.clone(),this._origin=a.Cartesian3.clone(s),this._orientation=h.Quaternion.clone(n),this._drawNearPlane=u,this._vertexFormat=f,this._workerName="createFrustumGeometry",this.packedLength=2+i+a.Cartesian3.packedLength+h.Quaternion.packedLength+p.VertexFormat.packedLength}k.pack=function(t,e,i){i=o.defaultValue(i,0);var r=t._frustumType,n=t._frustum;return e[i++]=r,0===r?(S.pack(n,e,i),i+=S.packedLength):(b.pack(n,e,i),i+=b.packedLength),a.Cartesian3.pack(t._origin,e,i),i+=a.Cartesian3.packedLength,h.Quaternion.pack(t._orientation,e,i),i+=h.Quaternion.packedLength,p.VertexFormat.pack(t._vertexFormat,e,i),e[i+=p.VertexFormat.packedLength]=t._drawNearPlane?1:0,e};var A=new S,D=new b,I=new h.Quaternion,q=new a.Cartesian3,B=new p.VertexFormat;function L(t,e,a,i,r,n,s,f){for(var u=t/3*2,l=0;l<4;++l)o.defined(e)&&(e[t]=n.x,e[t+1]=n.y,e[t+2]=n.z),o.defined(a)&&(a[t]=s.x,a[t+1]=s.y,a[t+2]=s.z),o.defined(i)&&(i[t]=f.x,i[t+1]=f.y,i[t+2]=f.z),t+=3;r[u]=0,r[u+1]=0,r[u+2]=1,r[u+3]=0,r[u+4]=1,r[u+5]=1,r[u+6]=0,r[u+7]=1}k.unpack=function(t,e,i){e=o.defaultValue(e,0);var r,n=t[e++];0===n?(r=S.unpack(t,e,A),e+=S.packedLength):(r=b.unpack(t,e,D),e+=b.packedLength);var s=a.Cartesian3.unpack(t,e,q);e+=a.Cartesian3.packedLength;var f=h.Quaternion.unpack(t,e,I);e+=h.Quaternion.packedLength;var u=p.VertexFormat.unpack(t,e,B),l=1===t[e+=p.VertexFormat.packedLength];if(!o.defined(i))return new k({frustum:r,origin:s,orientation:f,vertexFormat:u,_drawNearPlane:l});var d=n===i._frustumType?i._frustum:void 0;return i._frustum=r.clone(d),i._frustumType=n,i._origin=a.Cartesian3.clone(s,i._origin),i._orientation=h.Quaternion.clone(f,i._orientation),i._vertexFormat=p.VertexFormat.clone(u,i._vertexFormat),i._drawNearPlane=l,i};var N=new i.Matrix3,G=new i.Matrix4,j=new i.Matrix4,U=new a.Cartesian3,Q=new a.Cartesian3,K=new a.Cartesian3,Y=new a.Cartesian3,J=new a.Cartesian3,W=new a.Cartesian3,X=new Array(3),Z=new Array(4);Z[0]=new i.Cartesian4(-1,-1,1,1),Z[1]=new i.Cartesian4(1,-1,1,1),Z[2]=new i.Cartesian4(1,1,1,1),Z[3]=new i.Cartesian4(-1,1,1,1);for(var H=new Array(4),$=0;$<4;++$)H[$]=new i.Cartesian4;k._computeNearFarPlanes=function(t,e,r,n,s,f,u,l){var h=i.Matrix3.fromQuaternion(e,N),p=o.defaultValue(f,U),d=o.defaultValue(u,Q),c=o.defaultValue(l,K);p=i.Matrix3.getColumn(h,0,p),d=i.Matrix3.getColumn(h,1,d),c=i.Matrix3.getColumn(h,2,c),a.Cartesian3.normalize(p,p),a.Cartesian3.normalize(d,d),a.Cartesian3.normalize(c,c),a.Cartesian3.negate(p,p);var m,C,_=i.Matrix4.computeView(t,c,d,p,G);if(0===r){var y=n.projectionMatrix,v=i.Matrix4.multiply(y,_,j);C=i.Matrix4.inverse(v,j)}else m=i.Matrix4.inverseTransformation(_,j);o.defined(C)?(X[0]=n.near,X[1]=n.far):(X[0]=0,X[1]=n.near,X[2]=n.far);for(var g=0;g<2;++g)for(var w=0;w<4;++w){var x=i.Cartesian4.clone(Z[w],H[w]);if(o.defined(C)){var M=1/(x=i.Matrix4.multiplyByVector(C,x,x)).w;a.Cartesian3.multiplyByScalar(x,M,x),a.Cartesian3.subtract(x,t,x),a.Cartesian3.normalize(x,x);var b=a.Cartesian3.dot(c,x);a.Cartesian3.multiplyByScalar(x,X[g]/b,x),a.Cartesian3.add(x,t,x)}else{o.defined(n._offCenterFrustum)&&(n=n._offCenterFrustum);var V=X[g],F=X[g+1];x.x=.5*(x.x*(n.right-n.left)+n.left+n.right),x.y=.5*(x.y*(n.top-n.bottom)+n.bottom+n.top),x.z=.5*(x.z*(V-F)-V-F),x.w=1,i.Matrix4.multiplyByVector(m,x,x)}s[12*g+3*w]=x.x,s[12*g+3*w+1]=x.y,s[12*g+3*w+2]=x.z}},k.createGeometry=function(t){var i=t._frustumType,r=t._frustum,u=t._origin,l=t._orientation,h=t._drawNearPlane,p=t._vertexFormat,d=h?6:5,c=new Float64Array(72);k._computeNearFarPlanes(u,l,i,r,c);var m=24;c[m]=c[12],c[m+1]=c[13],c[m+2]=c[14],c[m+3]=c[0],c[m+4]=c[1],c[m+5]=c[2],c[m+6]=c[9],c[m+7]=c[10],c[m+8]=c[11],c[m+9]=c[21],c[m+10]=c[22],c[m+11]=c[23],c[m+=12]=c[15],c[m+1]=c[16],c[m+2]=c[17],c[m+3]=c[3],c[m+4]=c[4],c[m+5]=c[5],c[m+6]=c[0],c[m+7]=c[1],c[m+8]=c[2],c[m+9]=c[12],c[m+10]=c[13],c[m+11]=c[14],c[m+=12]=c[3],c[m+1]=c[4],c[m+2]=c[5],c[m+3]=c[15],c[m+4]=c[16],c[m+5]=c[17],c[m+6]=c[18],c[m+7]=c[19],c[m+8]=c[20],c[m+9]=c[6],c[m+10]=c[7],c[m+11]=c[8],c[m+=12]=c[6],c[m+1]=c[7],c[m+2]=c[8],c[m+3]=c[18],c[m+4]=c[19],c[m+5]=c[20],c[m+6]=c[21],c[m+7]=c[22],c[m+8]=c[23],c[m+9]=c[9],c[m+10]=c[10],c[m+11]=c[11],h||(c=c.subarray(12));var C=new f.GeometryAttributes({position:new s.GeometryAttribute({componentDatatype:n.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:c})});if(o.defined(p.normal)||o.defined(p.tangent)||o.defined(p.bitangent)||o.defined(p.st)){var _=o.defined(p.normal)?new Float32Array(12*d):void 0,y=o.defined(p.tangent)?new Float32Array(12*d):void 0,v=o.defined(p.bitangent)?new Float32Array(12*d):void 0,g=o.defined(p.st)?new Float32Array(8*d):void 0,w=U,x=Q,M=K,b=a.Cartesian3.negate(w,Y),V=a.Cartesian3.negate(x,J),F=a.Cartesian3.negate(M,W);m=0,h&&(L(m,_,y,v,g,F,w,x),m+=12),L(m,_,y,v,g,M,b,x),L(m+=12,_,y,v,g,b,F,x),L(m+=12,_,y,v,g,V,F,b),L(m+=12,_,y,v,g,w,M,x),L(m+=12,_,y,v,g,x,M,b),o.defined(_)&&(C.normal=new s.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:_})),o.defined(y)&&(C.tangent=new s.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:y})),o.defined(v)&&(C.bitangent=new s.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:v})),o.defined(g)&&(C.st=new s.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:g}))}for(var E=new Uint16Array(6*d),O=0;O<d;++O){var P=6*O,z=4*O;E[P]=z,E[P+1]=z+1,E[P+2]=z+2,E[P+3]=z,E[P+4]=z+2,E[P+5]=z+3}return new s.Geometry({attributes:C,indices:E,primitiveType:s.PrimitiveType.TRIANGLES,boundingSphere:e.BoundingSphere.fromVertices(c)})},t.FrustumGeometry=k,t.OrthographicFrustum=b,t.PerspectiveFrustum=S}));

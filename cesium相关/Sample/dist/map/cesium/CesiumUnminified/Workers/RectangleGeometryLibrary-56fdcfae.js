define(["exports","./Cartesian2-cce28994","./defaultValue-81eec7ed","./Check-edea0f91","./GeographicProjection-54ec8d9d","./Math-29cbc3fa","./Matrix2-c857e514","./Rectangle-1bad9972"],(function(t,a,n,r,e,o,i,s){"use strict";var g=Math.cos,c=Math.sin,h=Math.sqrt,u={computePosition:function(t,a,r,e,o,i,s){var u=a.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,S=g(d),M=c(d),w=u.z*M,X=C.longitude+e*t.granYSin+o*t.granXCos,Y=S*g(X),f=S*c(X),m=u.x*Y,p=u.y*f,v=h(m*Y+p*f+w*M);if(i.x=m/v,i.y=p/v,i.z=w/v,r){var x=t.stNwCorner;n.defined(x)?(d=x.latitude-t.stGranYCos*e+o*t.stGranXSin,X=x.longitude+e*t.stGranYSin+o*t.stGranXCos,s.x=(X-t.stWest)*t.lonScalar,s.y=(d-t.stSouth)*t.latScalar):(s.x=(X-l.west)*t.lonScalar,s.y=(d-l.south)*t.latScalar)}}},C=new i.Matrix2,l=new a.Cartesian3,d=new a.Cartographic,S=new a.Cartesian3,M=new e.GeographicProjection;function w(t,n,r,e,o,s,g){var c=Math.cos(n),h=e*c,u=r*c,d=Math.sin(n),w=e*d,X=r*d;l=M.project(t,l),l=a.Cartesian3.subtract(l,S,l);var Y=i.Matrix2.fromRotation(n,C);l=i.Matrix2.multiplyByVector(Y,l,l),l=a.Cartesian3.add(l,S,l),s-=1,g-=1;var f=(t=M.unproject(l,t)).latitude,m=f+s*X,p=f-h*g,v=f-h*g+s*X,x=Math.max(f,m,p,v),G=Math.min(f,m,p,v),R=t.longitude,y=R+s*u,O=R+g*w,P=R+g*w+s*u;return{north:x,south:G,east:Math.max(R,y,O,P),west:Math.min(R,y,O,P),granYCos:h,granYSin:w,granXCos:u,granXSin:X,nwCorner:t}}u.computeOptions=function(t,a,n,r,e,i,g){var c,h,u,C,l,X=t.east,Y=t.west,f=t.north,m=t.south,p=!1,v=!1;f===o.CesiumMath.PI_OVER_TWO&&(p=!0),m===-o.CesiumMath.PI_OVER_TWO&&(v=!0);var x=f-m;u=(l=Y>X?o.CesiumMath.TWO_PI-Y+X:X-Y)/((c=Math.ceil(l/a)+1)-1),C=x/((h=Math.ceil(x/a)+1)-1);var G=s.Rectangle.northwest(t,i),R=s.Rectangle.center(t,d);0===n&&0===r||(R.longitude<G.longitude&&(R.longitude+=o.CesiumMath.TWO_PI),S=M.project(R,S));var y=C,O=u,P=s.Rectangle.clone(t,e),b={granYCos:y,granYSin:0,granXCos:O,granXSin:0,nwCorner:G,boundingRectangle:P,width:c,height:h,northCap:p,southCap:v};if(0!==n){var W=w(G,n,u,C,0,c,h);f=W.north,m=W.south,X=W.east,Y=W.west,b.granYCos=W.granYCos,b.granYSin=W.granYSin,b.granXCos=W.granXCos,b.granXSin=W.granXSin,P.north=f,P.south=m,P.east=X,P.west=Y}if(0!==r){n-=r;var _=s.Rectangle.northwest(P,g),j=w(_,n,u,C,0,c,h);b.stGranYCos=j.granYCos,b.stGranXCos=j.granXCos,b.stGranYSin=j.granYSin,b.stGranXSin=j.granXSin,b.stNwCorner=_,b.stWest=j.west,b.stSouth=j.south}return b},t.RectangleGeometryLibrary=u}));

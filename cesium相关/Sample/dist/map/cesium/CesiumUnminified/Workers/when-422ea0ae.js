define(["exports"],(function(n){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(n,r,e){return n(e={path:r,exports:{},require:function(n,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==r&&e.path)}},e.exports),e.exports}var t=e((function(n,r){
/** @license MIT License (c) copyright B Cavalier & J Hann */
var e;e=function(){var n,r,e;function t(n,r,e,t){return o(n).then(r,e,t)}function o(n){var r,e,t;return n instanceof u?r=n:c(n)?(e=f(),n.then((function(n){e.resolve(n)}),(function(n){e.reject(n)}),(function(n){e.progress(n)})),r=e.promise):(t=n,r=new u((function(n){try{return o(n?n(t):t)}catch(n){return i(n)}}))),r}function u(n){this.then=n}function i(n){return new u((function(r,e){try{return e?o(e(n)):i(n)}catch(n){return i(n)}}))}function f(){var n,r,t,c,s,l;return n=new u(h),r=[],t=[],c=function(n,e,o){var u,i;return u=f(),i="function"==typeof o?function(n){try{u.progress(o(n))}catch(n){u.progress(n)}}:function(n){u.progress(n)},r.push((function(r){r.then(n,e).then(u.resolve,u.reject,i)})),t.push(i),u.promise},s=function(n){return a(t,n),n},l=function(n){return n=o(n),c=n.then,l=o,s=v,a(r,n),t=r=e,n},{then:h,resolve:p,reject:g,progress:y,promise:n,resolver:{resolve:p,reject:g,progress:y}};function h(n,r,e){return c(n,r,e)}function p(n){return l(n)}function g(n){return l(i(n))}function y(n){return s(n)}}function c(n){return n&&"function"==typeof n.then}function s(n,r,e,o,u){return p(2,arguments),t(n,(function(n){var i,c,s,l,h,a,p,g,y,d;if(y=n.length>>>0,i=Math.max(0,Math.min(r,y)),s=[],c=y-i+1,l=[],h=f(),i)for(g=h.progress,p=function(n){l.push(n),--c||(a=p=v,h.reject(l))},a=function(n){s.push(n),--i||(a=p=v,h.resolve(s))},d=0;d<y;++d)d in n&&t(n[d],w,m,g);else h.resolve(s);return h.then(e,o,u);function m(n){p(n)}function w(n){a(n)}}))}function l(n,r,e,t){return p(1,arguments),h(n,g).then(r,e,t)}function h(n,r){return t(n,(function(n){var e,o,u,i,c,s;if(u=o=n.length>>>0,e=[],s=f(),u)for(i=function(n,o){t(n,r).then((function(n){e[o]=n,--u||s.resolve(e)}),s.reject)},c=0;c<o;c++)c in n?i(n[c],c):--u;else s.resolve(e);return s.promise}))}function a(n,r){for(var e,t=0;e=n[t++];)e(r)}function p(n,r){for(var e,t=r.length;t>n;)if(null!=(e=r[--t])&&"function"!=typeof e)throw new Error("arg "+t+" must be a function")}function v(){}function g(n){return n}return t.defer=f,t.resolve=o,t.reject=function(n){return t(n,i)},t.join=function(){return h(arguments,g)},t.all=l,t.map=h,t.reduce=function(e,o){var u=r.call(arguments,1);return t(e,(function(r){var e;return e=r.length,u[0]=function(n,r,u){return t(n,(function(n){return t(r,(function(r){return o(n,r,u,e)}))}))},n.apply(r,u)}))},t.any=function(n,r,e,t){return s(n,1,(function(n){return r?r(n[0]):n[0]}),e,t)},t.some=s,t.chain=function(n,r,e){var o=arguments.length>2;return t(n,(function(n){return n=o?e:n,r.resolve(n),n}),(function(n){return r.reject(n),i(n)}),r.progress)},t.isPromise=c,u.prototype={always:function(n,r){return this.then(n,n,r)},otherwise:function(n){return this.then(e,n)},yield:function(n){return this.then((function(){return n}))},spread:function(n){return this.then((function(r){return l(r,(function(r){return n.apply(e,r)}))}))}},r=[].slice,n=[].reduce||function(n){var r,e,t,o,u;if(u=0,o=(r=Object(this)).length>>>0,(e=arguments).length<=1)for(;;){if(u in r){t=r[u++];break}if(++u>=o)throw new TypeError}else t=e[1];for(;u<o;++u)u in r&&(t=n(t,r[u],u,r));return t},t},n.exports=e()}));n.commonjsGlobal=r,n.createCommonjsModule=e,n.when=t}));

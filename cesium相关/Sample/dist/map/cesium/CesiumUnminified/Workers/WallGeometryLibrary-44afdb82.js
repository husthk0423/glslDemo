define(["exports","./arrayRemoveDuplicates-9a47c9b6","./Cartesian2-cce28994","./defaultValue-81eec7ed","./Math-29cbc3fa","./PolylinePipeline-f785d88a"],(function(e,i,t,a,r,n){"use strict";var o={};function l(e,i){return r.CesiumMath.equalsEpsilon(e.latitude,i.latitude,r.CesiumMath.EPSILON10)&&r.CesiumMath.equalsEpsilon(e.longitude,i.longitude,r.CesiumMath.EPSILON10)}var s=new t.Cartographic,h=new t.Cartographic;var g=new Array(2),u=new Array(2),c={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};o.computePositions=function(e,o,p,d,v,y){var f=function(e,r,n,o){var g=(r=i.arrayRemoveDuplicates(r,t.Cartesian3.equalsEpsilon)).length;if(!(g<2)){var u=a.defined(o),c=a.defined(n),p=new Array(g),d=new Array(g),v=new Array(g),y=r[0];p[0]=y;var f=e.cartesianToCartographic(y,s);c&&(f.height=n[0]),d[0]=f.height,v[0]=u?o[0]:0;for(var m=d[0]===v[0],P=1,A=1;A<g;++A){var C=r[A],w=e.cartesianToCartographic(C,h);c&&(w.height=n[A]),m=m&&0===w.height,l(f,w)?f.height<w.height&&(d[P-1]=w.height):(p[P]=C,d[P]=w.height,v[P]=u?o[A]:0,m=m&&d[P]===v[P],t.Cartographic.clone(w,f),++P)}if(!(m||P<2))return p.length=P,d.length=P,v.length=P,{positions:p,topHeights:d,bottomHeights:v}}}(e,o,p,d);if(a.defined(f)){o=f.positions,p=f.topHeights,d=f.bottomHeights;var m,P,A=o.length,C=A-2,w=r.CesiumMath.chordLength(v,e.maximumRadius),b=c;if(b.minDistance=w,b.ellipsoid=e,y){var M,E=0;for(M=0;M<A-1;M++)E+=n.PolylinePipeline.numberOfPoints(o[M],o[M+1],w)+1;m=new Float64Array(3*E),P=new Float64Array(3*E);var F=g,H=u;b.positions=F,b.height=H;var L=0;for(M=0;M<A-1;M++){F[0]=o[M],F[1]=o[M+1],H[0]=p[M],H[1]=p[M+1];var q=n.PolylinePipeline.generateArc(b);m.set(q,L),H[0]=d[M],H[1]=d[M+1],P.set(n.PolylinePipeline.generateArc(b),L),L+=q.length}}else b.positions=o,b.height=p,m=new Float64Array(n.PolylinePipeline.generateArc(b)),b.height=d,P=new Float64Array(n.PolylinePipeline.generateArc(b));return{bottomPositions:P,topPositions:m,numCorners:C}}},e.WallGeometryLibrary=o}));

define(["exports","./Cartesian2-cce28994","./Check-edea0f91","./defaultValue-81eec7ed","./GeographicProjection-54ec8d9d","./Math-29cbc3fa","./Rectangle-1bad9972"],(function(e,t,i,r,n,o,s){"use strict";function l(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT),this._ellipsoid=r.defaultValue(e.ellipsoid,t.Ellipsoid.WGS84),this._rectangle=r.defaultValue(e.rectangle,s.Rectangle.MAX_VALUE),this._projection=new n.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=r.defaultValue(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=r.defaultValue(e.numberOfLevelZeroTilesY,1)}Object.defineProperties(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),l.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},l.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},l.prototype.rectangleToNativeRectangle=function(e,t){var i=o.CesiumMath.toDegrees(e.west),n=o.CesiumMath.toDegrees(e.south),l=o.CesiumMath.toDegrees(e.east),a=o.CesiumMath.toDegrees(e.north);return r.defined(t)?(t.west=i,t.south=n,t.east=l,t.north=a,t):new s.Rectangle(i,n,l,a)},l.prototype.tileXYToNativeRectangle=function(e,t,i,r){var n=this.tileXYToRectangle(e,t,i,r);return n.west=o.CesiumMath.toDegrees(n.west),n.south=o.CesiumMath.toDegrees(n.south),n.east=o.CesiumMath.toDegrees(n.east),n.north=o.CesiumMath.toDegrees(n.north),n},l.prototype.tileXYToRectangle=function(e,t,i,n){var o=this._rectangle,l=this.getNumberOfXTilesAtLevel(i),a=this.getNumberOfYTilesAtLevel(i),u=o.width/l,h=e*u+o.west,c=(e+1)*u+o.west,g=o.height/a,f=o.north-t*g,d=o.north-(t+1)*g;return r.defined(n)||(n=new s.Rectangle(h,d,c,f)),n.west=h,n.south=d,n.east=c,n.north=f,n},l.prototype.positionToTileXY=function(e,i,n){var l=this._rectangle;if(s.Rectangle.contains(l,e)){var a=this.getNumberOfXTilesAtLevel(i),u=this.getNumberOfYTilesAtLevel(i),h=l.width/a,c=l.height/u,g=e.longitude;l.east<l.west&&(g+=o.CesiumMath.TWO_PI);var f=(g-l.west)/h|0;f>=a&&(f=a-1);var d=(l.north-e.latitude)/c|0;return d>=u&&(d=u-1),r.defined(n)?(n.x=f,n.y=d,n):new t.Cartesian2(f,d)}},e.GeographicTilingScheme=l}));
